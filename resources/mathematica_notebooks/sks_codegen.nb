(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[         0,          0]
NotebookDataLength[    221649,       5380]
NotebookOptionsPosition[    202617,       5053]
NotebookOutlinePosition[    203310,       5076]
CellTagsIndexPosition[    203267,       5073]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["ADM components codegen", "Title",
 CellChangeTimes->{{3.857833982358945*^9, 3.8578339958689127`*^9}, {
  3.8612036019661617`*^9, 3.8612036040664597`*^9}, {3.868479896604311*^9, 
  3.8684799009040422`*^9}},ExpressionUUID->"8ff0d09f-00f0-43c0-a1d1-\
c2aaec281461"],

Cell[CellGroupData[{

Cell["4-metric", "Section",
 CellChangeTimes->{{3.860108273377863*^9, 3.860108287766755*^9}, {
   3.860109488774036*^9, 3.860109496113961*^9}, {3.861110516404187*^9, 
   3.86111052048457*^9}, 3.861117030968712*^9, {3.861124849351673*^9, 
   3.861124855991452*^9}, {3.868481639528853*^9, 
   3.868481639698598*^9}},ExpressionUUID->"1c41b9a9-7400-42a4-b2ac-\
9cebb1a7d2a9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ll4metric", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ll4metric", "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "1", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "3", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"2", ",", "2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"2", ",", "3", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"2", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "3", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"2", ",", "3", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"3", ",", "3", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"3", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"llgSKS", "[", 
          RowBox[{"1", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"2", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"3", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}], ",", 
         RowBox[{"llgSKS", "[", 
          RowBox[{"4", ",", "4", ",", "t", ",", "x", ",", "y", ",", "z"}], 
          "]"}]}], "}"}]}], "\[IndentingNewLine]", "}"}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "uu4metric", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"uu4metric", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"Inverse", "[", "ll4metric", "]"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.861214198023122*^9, 3.861214218191215*^9}, {
   3.861214406844845*^9, 3.8612144807930603`*^9}, {3.861232332362925*^9, 
   3.8612323986409683`*^9}, {3.8612324591427107`*^9, 3.861232665651525*^9}, {
   3.8612326961995773`*^9, 3.8612329333174343`*^9}, {3.861233000167461*^9, 
   3.8612330033468018`*^9}, {3.86123304404681*^9, 3.8612330578966303`*^9}, {
   3.861233095374798*^9, 3.86123311561348*^9}, {3.861233149250637*^9, 
   3.861233181387703*^9}, {3.861233422893813*^9, 3.861233432232362*^9}, {
   3.861235150000181*^9, 3.8612352476772127`*^9}, 3.8612353119107523`*^9, {
   3.861235367758133*^9, 3.8612353682263803`*^9}, {3.861910628170557*^9, 
   3.861910678698352*^9}, {3.861910730255834*^9, 3.861910776842757*^9}, {
   3.861910818480976*^9, 3.861910825370202*^9}, {3.8619108611298532`*^9, 
   3.861910866348127*^9}, {3.861910925147826*^9, 3.861910939997694*^9}, {
   3.861910991335287*^9, 3.861910993784485*^9}, {3.862414525739798*^9, 
   3.86241457709769*^9}, {3.862414631666744*^9, 3.862414696905101*^9}, {
   3.862414727030507*^9, 3.8624148671834927`*^9}, {3.865013026873619*^9, 
   3.86501302761779*^9}, {3.865013105702722*^9, 3.8650131086687326`*^9}, {
   3.86535198019002*^9, 3.8653519873189898`*^9}, {3.86535279032789*^9, 
   3.865352812344174*^9}, {3.865359120067219*^9, 3.8653591206841373`*^9}, {
   3.865433323227047*^9, 3.865433451905299*^9}, {3.865433488195641*^9, 
   3.865433530425619*^9}, {3.865433590782172*^9, 3.865433592458993*^9}, {
   3.865469135034416*^9, 3.8654691458327513`*^9}, {3.86564600583885*^9, 
   3.865646026177759*^9}, {3.865646578516676*^9, 3.865646579846388*^9}, {
   3.8656467932124643`*^9, 3.865646884851976*^9}, {3.865647100207974*^9, 
   3.865647108186438*^9}, {3.865647303422084*^9, 3.865647325542205*^9}, 
   3.8656473588824*^9, {3.8656475770354967`*^9, 3.8656477745971527`*^9}, {
   3.865647807555604*^9, 3.865647903768586*^9}, {3.865647961561305*^9, 
   3.865647969031136*^9}, {3.866816911109275*^9, 3.866816915329042*^9}, {
   3.866817136584443*^9, 3.866817139814*^9}, {3.866818698520643*^9, 
   3.8668187912827597`*^9}, {3.8668188243595133`*^9, 3.866818869340055*^9}, {
   3.866818973821392*^9, 3.8668189868977547`*^9}, {3.866819060178199*^9, 
   3.866819064947411*^9}, {3.866819209544312*^9, 3.866819236844933*^9}, {
   3.866819286677269*^9, 3.866819297075508*^9}, {3.866819343815485*^9, 
   3.866819387511808*^9}, {3.866819579607584*^9, 3.8668195870872307`*^9}, {
   3.866819650556964*^9, 3.8668196548765*^9}, {3.8668200634189577`*^9, 
   3.866820092426619*^9}, {3.866824327310947*^9, 3.866824330760445*^9}, {
   3.866827120187018*^9, 3.866827121826496*^9}, {3.866846225075459*^9, 
   3.866846231784719*^9}, {3.866846346852791*^9, 3.8668463515221157`*^9}, {
   3.8681017732123938`*^9, 3.868101774991975*^9}, {3.868101916619342*^9, 
   3.868101929619321*^9}, {3.868102071206533*^9, 3.86810212839532*^9}, {
   3.868102220547242*^9, 3.868102239163382*^9}, {3.8681022703236837`*^9, 
   3.868102339292926*^9}, {3.868102472119788*^9, 3.868102492938582*^9}, {
   3.8681027970452843`*^9, 3.868102805074115*^9}, {3.868104310383934*^9, 
   3.868104342822318*^9}, {3.868104407784952*^9, 3.868104412391169*^9}, {
   3.868104629044733*^9, 3.868104687917234*^9}, {3.86810498286202*^9, 
   3.8681050527251873`*^9}, {3.86831459830226*^9, 3.86831469768677*^9}, {
   3.868314729617243*^9, 3.868314734626923*^9}, {3.868314845935163*^9, 
   3.868314849864133*^9}, {3.868315002812252*^9, 3.8683150303119164`*^9}, {
   3.868315079068935*^9, 3.868315122918209*^9}, {3.868315620691969*^9, 
   3.8683156321938457`*^9}, 3.8683157627932158`*^9, {3.868384303204479*^9, 
   3.868384306007306*^9}, {3.868395453825572*^9, 3.868395459754818*^9}, {
   3.868395806378737*^9, 3.868395832288477*^9}, {3.8683958979670153`*^9, 
   3.868395965864122*^9}, {3.8683961050839376`*^9, 3.868396170810891*^9}, {
   3.868396319200158*^9, 3.868396402756311*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"a31afc9d-f6d1-4e3e-a952-28d3bc48d72f"]
}, Closed]],

Cell[CellGroupData[{

Cell["ADM components", "Section",
 CellChangeTimes->{{3.868315565800763*^9, 
  3.868315568650415*^9}},ExpressionUUID->"0f6f3127-1aac-4633-bd66-\
94cd73509965"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "coords", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coords", "=", 
    RowBox[{"{", 
     RowBox[{"t", ",", "x", ",", "y", ",", "z"}], "}"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"Spatial", " ", "coordinates"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "spaceCoords", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"spaceCoords", "=", 
    RowBox[{"coords", "[", 
     RowBox[{"[", 
      RowBox[{"2", ";;", "4"}], "]"}], "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"llsmetric", ",", "uusmetric"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"llsmetric", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"ll4metric", "[", 
     RowBox[{"[", 
      RowBox[{
       RowBox[{"2", ";;", "4"}], ",", 
       RowBox[{"2", ";;", "4"}]}], "]"}], "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"uusmetric", "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{"Inverse", "[", "llsmetric", "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"ClearAll", "[", "lapse", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"lapse", "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{"Sqrt", "[", 
      RowBox[{
       RowBox[{"-", "1"}], "/", 
       RowBox[{"uu4metric", "[", 
        RowBox[{"[", 
         RowBox[{"1", ",", "1"}], "]"}], "]"}]}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"lshift", ",", "ushift"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"lshift", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"ll4metric", "[", 
     RowBox[{"[", 
      RowBox[{"1", ",", 
       RowBox[{"2", ";;", "4"}]}], "]"}], "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"ushift", "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{"lapse", "^", "2"}], "*", 
      RowBox[{"uu4metric", "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", 
         RowBox[{"2", ";;", "4"}]}], "]"}], "]"}]}], "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"\[CapitalGamma]", ",", "Dd"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"\[CapitalGamma]", "[", 
     RowBox[{"i_", ",", "j_", ",", "k_"}], "]"}], ":=", 
    RowBox[{"Sum", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"1", "/", "2"}], "*", 
       RowBox[{"uusmetric", "[", 
        RowBox[{"[", 
         RowBox[{"i", ",", "l"}], "]"}], "]"}], "*", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"llsmetric", "[", 
            RowBox[{"[", 
             RowBox[{"l", ",", "j"}], "]"}], "]"}], ",", 
           RowBox[{"spaceCoords", "[", 
            RowBox[{"[", "k", "]"}], "]"}]}], "]"}], "+", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"llsmetric", "[", 
            RowBox[{"[", 
             RowBox[{"l", ",", "k"}], "]"}], "]"}], ",", 
           RowBox[{"spaceCoords", "[", 
            RowBox[{"[", "j", "]"}], "]"}]}], "]"}], "-", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"llsmetric", "[", 
            RowBox[{"[", 
             RowBox[{"j", ",", "k"}], "]"}], "]"}], ",", 
           RowBox[{"spaceCoords", "[", 
            RowBox[{"[", "l", "]"}], "]"}]}], "]"}]}], ")"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"l", ",", "1", ",", "3"}], "}"}]}], "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Dd", "[", 
     RowBox[{"b_", ",", "c_", ",", "f_"}], "]"}], ":=", 
    RowBox[{
     RowBox[{"D", "[", 
      RowBox[{
       RowBox[{"f", "[", 
        RowBox[{"[", "c", "]"}], "]"}], ",", 
       RowBox[{"spaceCoords", "[", 
        RowBox[{"[", "b", "]"}], "]"}]}], "]"}], "-", 
     RowBox[{"Sum", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"\[CapitalGamma]", "[", 
         RowBox[{"d", ",", "b", ",", "c"}], "]"}], " ", 
        RowBox[{"f", "[", 
         RowBox[{"[", "d", "]"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"d", ",", "1", ",", "3"}], "}"}]}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"llextrinsic", ",", "ulextrinsic"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"llextrinsic", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"1", "/", 
      RowBox[{"(", 
       RowBox[{"2", "*", "lapse"}], ")"}]}], "*", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"llsmetric", "[", 
            RowBox[{"[", 
             RowBox[{"i", ",", "j"}], "]"}], "]"}], ",", 
           RowBox[{"coords", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], "]"}]}], "+", 
        RowBox[{"Dd", "[", 
         RowBox[{"i", ",", "j", ",", "lshift"}], "]"}], "+", 
        RowBox[{"Dd", "[", 
         RowBox[{"j", ",", "i", ",", "lshift"}], "]"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "]"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"ulextrinsic", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"uusmetric", "[", 
          RowBox[{"[", 
           RowBox[{"i", ",", "k"}], "]"}], "]"}], "*", 
         RowBox[{"llextrinsic", "[", 
          RowBox[{"[", 
           RowBox[{"k", ",", "j"}], "]"}], "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "1", ",", "3"}], "}"}]}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "]"}], "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.8683155796117268`*^9, 3.8683156169909887`*^9}, {
  3.868315695719469*^9, 3.868315744238131*^9}, {3.868396445906399*^9, 
  3.868396479823942*^9}},
 CellLabel->"In[5]:=",ExpressionUUID->"ecc62a60-379d-472e-ab04-cfac23a0d0a0"]
}, Closed]],

Cell[CellGroupData[{

Cell["CSE and codegen utilities", "Section",
 CellChangeTimes->{{3.868439204911605*^9, 
  3.868439214061768*^9}},ExpressionUUID->"553a9113-a371-48fc-bc00-\
d2595122b733"],

Cell[CellGroupData[{

Cell["CSE", "Subsection",
 CellChangeTimes->{{3.868371468625771*^9, 
  3.868371468976837*^9}},ExpressionUUID->"d1434d19-8af1-4e2c-a878-\
97c7290b23e8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"stackoverflow", ".", "com"}], "/", "questions"}], "/", 
       "4202845"}], "/", "mathematica"}], "-", "using", "-", "simplify", "-", 
     "to", "-", "do", "-", "common", "-", "sub", "-", "expression", "-", 
     "elimination", "-", "and", "-", "reductio"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"stoney", ".", "sb", ".", "org"}], "/", "wordpress"}], "/", 
      "wp"}], "-", 
     RowBox[{
      RowBox[{"content", "/", "cvt2c"}], "/"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"<<", "cse.m"}]}]], "Input",
 CellLabel->"In[23]:=",ExpressionUUID->"99eec412-90a9-4795-ba53-ce4fd1537707"]
}, Closed]],

Cell[CellGroupData[{

Cell["Function body generators", "Subsection",
 CellChangeTimes->{{3.868371881858344*^9, 
  3.868371887049727*^9}},ExpressionUUID->"aa37e393-0909-43b7-a6f3-\
288b80b260b7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ruleToString", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ruleToString", "[", 
    RowBox[{"Rule", "[", 
     RowBox[{"a_", ",", "b_"}], "]"}], "]"}], ":=", 
   RowBox[{"\"\<const double \>\"", "<>", 
    RowBox[{"ToString", "[", "b", "]"}], "<>", "\"\< = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{"a", ",", "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "genBody", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genBody", "[", "original_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cse", ",", "resultString"}], "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cse", "=", 
      RowBox[{"hoistCommonSubexpressions", "[", "original", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Do", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"resultString", "=", 
        RowBox[{"resultString", "<>", 
         RowBox[{"ruleToString", "[", 
          RowBox[{"cse", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
         "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", 
          RowBox[{
          "cse", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
          "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", 
      RowBox[{"resultString", "<>", "\"\<\\nreturn \>\"", "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{
         RowBox[{
         "cse", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
         "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "resultString", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.86837155898555*^9, 3.8683716935516977`*^9}, {
  3.868371727293956*^9, 3.868371854258505*^9}, {3.868371911508793*^9, 
  3.868371923878261*^9}, {3.8683741717565947`*^9, 3.868374171865741*^9}, {
  3.868375564066785*^9, 3.86837557886977*^9}, {3.8683975802513723`*^9, 
  3.8683975840237627`*^9}, {3.868401516388443*^9, 3.868401529950522*^9}, {
  3.8684392400919952`*^9, 3.8684392414916477`*^9}},
 CellLabel->"In[24]:=",ExpressionUUID->"b8aba3db-371c-472a-9f7f-4ff01ca704e7"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["String replacement rules", "Section",
 CellChangeTimes->{{3.868439254180686*^9, 3.86843926001075*^9}, 
   3.868463799074551*^9},ExpressionUUID->"c5076b8e-4771-415b-ae9c-\
5698a80d28f5"],

Cell[CellGroupData[{

Cell["Capitalization", "Subsection",
 CellChangeTimes->{{3.868439493907201*^9, 
  3.868439496307272*^9}},ExpressionUUID->"13cf0238-6bd6-4961-b5a9-\
4f6156906d24"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "capitalizationRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"capitalizationRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Sqrt\>\"", "\[Rule]", "\"\<sqrt\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Power\>\"", "\[Rule]", "\"\<pow\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868316105323255*^9, 3.868316157929685*^9}, {
   3.868316230109397*^9, 3.868316306948285*^9}, {3.86831634177719*^9, 
   3.86831635056705*^9}, {3.868316425275738*^9, 3.868316537946056*^9}, {
   3.868316591092558*^9, 3.868316597142627*^9}, {3.8683166621718187`*^9, 
   3.8683166908708763`*^9}, {3.868371896499003*^9, 3.8683719011111813`*^9}, {
   3.868375787792369*^9, 3.86837583159341*^9}, {3.868381925961285*^9, 
   3.868381934913391*^9}, {3.8683968959356737`*^9, 3.8683970125234003`*^9}, {
   3.8684004316580677`*^9, 3.868400458276379*^9}, {3.868400961138571*^9, 
   3.868400962018216*^9}, {3.8684011791176558`*^9, 3.868401187714568*^9}, {
   3.868401291792986*^9, 3.868401466970656*^9}, {3.868401504491877*^9, 
   3.8684015112202682`*^9}, 3.868439343095846*^9},
 CellLabel->"In[28]:=",ExpressionUUID->"7a83c6f5-cabd-4ab3-b66d-aa2d112aefa5"]
}, Closed]],

Cell[CellGroupData[{

Cell["Metric", "Subsection",
 CellChangeTimes->{{3.86844037896544*^9, 
  3.868440379805462*^9}},ExpressionUUID->"42e0f279-8c41-474b-a19d-\
b671962febe5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "metricComponentRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"metricComponentRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
     "\"\<llgSKS(1,1,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_00(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(1,2,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_01(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(1,3,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_02(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(1,4,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_03(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(2,2,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_11(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(2,3,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_12(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(2,4,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_13(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(3,3,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_22(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(3,4,t,x,y,z)\>\"", "\[Rule]", "\"\<llgSKS_23(t,x,y,z)\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<llgSKS(4,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<llgSKS_33(t,x,y,z)\>\""}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.868480207676696*^9, 3.86848022482598*^9}},
 CellLabel->"In[30]:=",ExpressionUUID->"bc1af3bc-7087-4e98-b015-b9ba92b5c999"]
}, Closed]],

Cell[CellGroupData[{

Cell["Metric derivatives", "Subsection",
 CellChangeTimes->{{3.8684638116042957`*^9, 
  3.868463816164253*^9}},ExpressionUUID->"f89d3173-2b3d-408b-bec8-\
8641803da54d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "metricComponentDerivativeRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"metricComponentDerivativeRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(1,1,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_00_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(1,1,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_00_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(1,1,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_00_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(1,1,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_00_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(1,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_01_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(1,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_01_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(1,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_01_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(1,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_01_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(1,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_02_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(1,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_02_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(1,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_02_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(1,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_02_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(1,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_03_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(1,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_03_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(1,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_03_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(1,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_03_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(2,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_11_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(2,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_11_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(2,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_11_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(2,2,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_11_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(2,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_12_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(2,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_12_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(2,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_12_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(2,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_12_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(2,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_13_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(2,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_13_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(2,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_13_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(2,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_13_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(3,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_22_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(3,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_22_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(3,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_22_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(3,3,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_22_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(3,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_23_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(3,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_23_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(3,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_23_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(3,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_23_dz(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0,0,0)(llgSKS)(4,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_33_dt(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0,0)(llgSKS)(4,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_33_dx(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1,0)(llgSKS)(4,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_33_dy(t,x,y,z)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,0,1)(llgSKS)(4,4,t,x,y,z)\>\"", "\[Rule]", 
      "\"\<dllgSKS_33_dz(t,x,y,z)\>\""}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.868463848105813*^9, 3.868464021663855*^9}, {
  3.8684640889125338`*^9, 3.868464148150791*^9}, {3.8684652071875687`*^9, 
  3.868465255785811*^9}},
 CellLabel->"In[32]:=",ExpressionUUID->"e3b8a2a7-3fc4-43a7-a060-f11fd546fe38"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Lapse code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 
  3.868439195311709*^9}},ExpressionUUID->"1c5ffc1e-6978-46ab-8811-\
a70ae4ffe0a4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::lapse(double t, double x, double y, double \
z) -> double {\n  using std::pow;\n  using std::sqrt;\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", 
    RowBox[{"genBody", "[", "lapse", "]"}], "<>", "\"\<\\n}\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<lapse.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i lapse.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv lapse.cpp ../../plugins/metrics/SKS/source\>\"", "]"}],
    ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.8684800926406384`*^9, 3.8684800935299807`*^9}, {
   3.868480469591303*^9, 3.868480531491208*^9}},
 CellLabel->"In[43]:=",ExpressionUUID->"32e1038d-9013-4759-948a-18da960b23be"]
}, Closed]],

Cell[CellGroupData[{

Cell["Lower shift code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 
  3.8684434947444773`*^9}},ExpressionUUID->"1971a534-376a-4e97-9998-\
a86e203b91cc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::l_shift(double t, double x, double y, \
double z) -> metric_server::spatial_vector {\n\n  \
metric_server::spatial_vector lshift{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "lshift", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  lshift[0] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  lshift[1] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  lshift[2] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<  return lshift;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<l_shift.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i l_shift.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv l_shift.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868480584340295*^9, 3.868480589649892*^9}},
 CellLabel->"In[52]:=",ExpressionUUID->"5611056a-14e3-4ecd-8366-c7e4f84f7f64"]
}, Closed]],

Cell[CellGroupData[{

Cell["Upper shift code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}},ExpressionUUID->"86329816-ea40-40fb-9378-\
0274b9195b2f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::u_shift(double t, double x, double y, \
double z)\n    -> metric_server::spatial_vector {\n\n  using std::pow;\n\n  \
metric_server::spatial_vector ushift{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "ushift", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<\\n  ushift[0] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<\\n  ushift[1] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n  ushift[2] = \>\"", "<>", 
     RowBox[{"ToString", "[", 
      RowBox[{
       RowBox[{"expr", "\[LeftDoubleBracket]", 
        RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
      "]"}], "<>", "\"\<;\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n\\n  return ushift;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<u_shift.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i u_shift.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv u_shift.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.8684806110012407`*^9, 
   3.868480625328967*^9}},
 CellLabel->"In[66]:=",ExpressionUUID->"ce199056-16d0-4883-9a59-1a10e00b9365"]
}, Closed]],

Cell[CellGroupData[{

Cell["Lower spatial metric code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 
  3.868460825459573*^9}},ExpressionUUID->"09ac9d3a-91ad-4125-a27c-\
3a7330fd7ac5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::ll_smetric(double t, double x, double y, \
double z)\n    -> metric_server::spatial_matrix {\n\n  \
metric_server::spatial_matrix llgamma{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "llsmetric", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  llgamma[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
       "]"}], "<>", "\"\<;\>\""}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n\\n return llgamma;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<ll_smetric.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i ll_smetric.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv ll_smetric.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.868461631338126*^9}, {
   3.868480683608389*^9, 3.868480705158721*^9}},
 CellLabel->"In[82]:=",ExpressionUUID->"a3aef63f-401d-4d25-bd95-0f92fa7027c5"]
}, Closed]],

Cell[CellGroupData[{

Cell["Upper spatial metric code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 3.868460825459573*^9}, {
  3.868461654866417*^9, 
  3.868461655526359*^9}},ExpressionUUID->"8d0d1af7-fcc4-4783-b65c-\
ab8f7ffa3ba2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::uu_smetric(double t, double x, double y, \
double z)\n    -> metric_server::spatial_matrix {\n\n  using std::pow;\n\n  \
metric_server::spatial_matrix uugamma{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "uusmetric", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  uugamma[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
       "]"}], "<>", "\"\<;\>\""}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n\\n return uugamma;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<uu_smetric.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i uu_smetric.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv uu_smetric.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.8684617164886837`*^9}, {
   3.868480790806924*^9, 3.868480803536764*^9}, {3.868481573351701*^9, 
   3.868481576740884*^9}},
 CellLabel->
  "In[293]:=",ExpressionUUID->"f9f02549-a8c6-4c72-8df4-62ffd924632d"]
}, Closed]],

Cell[CellGroupData[{

Cell["Lower extrinsic code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 3.868460825459573*^9}, {
  3.868461654866417*^9, 3.868461655526359*^9}, {3.868463665417062*^9, 
  3.86846367186619*^9}},ExpressionUUID->"faaa3967-8064-48f1-a612-\
f6e18f0ab5fd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::ll_extrinsic(double t, double x, double y, \
double z)\n    -> metric_server::spatial_matrix {\n\n  using std::pow;\n\n  \
metric_server::spatial_matrix llK{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "llextrinsic", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  llK[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
       "]"}], "<>", "\"\<;\>\""}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n\\n return llK;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "metricComponentDerivativeRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<ll_extrinsic.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i ll_extrinsic.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv ll_extrinsic.cpp ../../plugins/metrics/SKS/source\>\"",
     "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.8684617164886837`*^9}, {
   3.868463707304528*^9, 3.868463744845603*^9}, {3.868464163839583*^9, 
   3.868464169209422*^9}, {3.868464278388085*^9, 3.868464280109803*^9}, {
   3.868465099397458*^9, 3.8684651564754*^9}, {3.868465188887418*^9, 
   3.86846519063492*^9}, {3.8684808523558064`*^9, 3.868480864585908*^9}, {
   3.868481423965321*^9, 3.8684814490840282`*^9}},
 CellLabel->
  "In[248]:=",ExpressionUUID->"6aaa50c1-4142-4010-b15b-b83f690f7630"]
}, Closed]],

Cell[CellGroupData[{

Cell["Upper lower extrinsic code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 3.868460825459573*^9}, {
  3.868461654866417*^9, 3.868461655526359*^9}, {3.868463665417062*^9, 
  3.86846367186619*^9}, {3.868465292952746*^9, 
  3.8684652950428247`*^9}},ExpressionUUID->"0d9d7614-7377-4a42-9694-\
ad0c2f2c8dca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::ul_extrinsic(double t, double x, double y, \
double z)\n    -> metric_server::spatial_matrix {\n\n  using std::pow;\n\n  \
metric_server::spatial_matrix ulK{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "ulextrinsic", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  ulK[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
       "]"}], "<>", "\"\<;\\n\>\""}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n return ulK;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "metricComponentDerivativeRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<ul_extrinsic.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i ul_extrinsic.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv ul_extrinsic.cpp ../../plugins/metrics/SKS/source\>\"",
     "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.8684617164886837`*^9}, {
   3.868463707304528*^9, 3.868463744845603*^9}, {3.868464163839583*^9, 
   3.868464169209422*^9}, {3.868464278388085*^9, 3.868464280109803*^9}, {
   3.868465099397458*^9, 3.8684651564754*^9}, {3.868465188887418*^9, 
   3.86846519063492*^9}, {3.868465311858987*^9, 3.868465351621957*^9}, {
   3.868466060859128*^9, 3.8684660962470493`*^9}, {3.8684809646247597`*^9, 
   3.868480974753751*^9}, {3.868481536182946*^9, 3.868481540962041*^9}},
 CellLabel->
  "In[278]:=",ExpressionUUID->"7cea7cda-d6bd-4f2d-8d1b-f3b150b89850"]
}, Closed]],

Cell[CellGroupData[{

Cell["Spatial christoffel code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 3.868460825459573*^9}, {
  3.868461654866417*^9, 3.868461655526359*^9}, {3.868463665417062*^9, 
  3.86846367186619*^9}, {3.868465292952746*^9, 3.8684652950428247`*^9}, {
  3.868477391504071*^9, 3.868477397434286*^9}, {3.868477618842594*^9, 
  3.868477621672473*^9}},ExpressionUUID->"3b8081d0-b79b-46ff-8515-\
8fa9082a1ccc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::spatial_christoffel(double t, double x, \
double y, double z)\n    -> metric_server::chirstofell_t {\n\n  using \
std::pow;\n\n  metric_server::chirstofell_t Gamma{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"\[CapitalGamma]", "[", 
        RowBox[{"i", ",", "j", ",", "k"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"j", ",", "1", ",", "3"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"k", ",", "1", ",", "3"}], "}"}]}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  Gamma[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"k", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j", ",", "k"}], "\[RightDoubleBracket]"}], ",", 
        "CForm"}], "]"}], "<>", "\"\<;\\n\>\""}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"k", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n return Gamma;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "metricComponentDerivativeRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{
   "\"\<spatial_christoffel.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "Run", "[", "\"\<clang-format -i spatial_christoffel.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", 
    "\"\<mv spatial_christoffel.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.8684617164886837`*^9}, {
   3.868463707304528*^9, 3.868463744845603*^9}, {3.868464163839583*^9, 
   3.868464169209422*^9}, {3.868464278388085*^9, 3.868464280109803*^9}, {
   3.868465099397458*^9, 3.8684651564754*^9}, {3.868465188887418*^9, 
   3.86846519063492*^9}, {3.868465311858987*^9, 3.868465351621957*^9}, {
   3.868466060859128*^9, 3.8684660962470493`*^9}, {3.868477433745366*^9, 
   3.868477500114278*^9}, {3.868477807604356*^9, 3.8684778142088633`*^9}, 
   3.8684779281995583`*^9, 3.868477976457665*^9, {3.8684782837768497`*^9, 
   3.86847834944176*^9}, {3.868478402825157*^9, 3.868478407373564*^9}, {
   3.868478472935071*^9, 3.868478495111987*^9}, {3.868479008976038*^9, 
   3.868479049588788*^9}, {3.868481023373115*^9, 3.8684810367653723`*^9}, {
   3.868481075232855*^9, 3.868481075752067*^9}, {3.8684814925941753`*^9, 
   3.868481495963325*^9}},
 CellLabel->
  "In[263]:=",ExpressionUUID->"49201f12-b80d-4e32-ab1c-215e1ed1d799"]
}, Closed]],

Cell[CellGroupData[{

Cell["Grad lapse code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.868479227632594*^9, 
  3.868479229812614*^9}},ExpressionUUID->"2bc60a79-e700-4b58-8d0e-\
8bbfa5a58481"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::grad_lapse(double t, double x, double y, \
double z)\n    -> metric_server::spatial_vector {\n\n  using std::pow;\n\n  \
metric_server::spatial_vector gradalpha{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{"lapse", ",", "x"}], "]"}], ",", 
       RowBox[{"D", "[", 
        RowBox[{"lapse", ",", "y"}], "]"}], ",", 
       RowBox[{"D", "[", 
        RowBox[{"lapse", ",", "z"}], "]"}]}], "}"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  gradalpha[0] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  gradalpha[1] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"str", "<>", "\"\<  gradalpha[2] = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{
      RowBox[{"expr", "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
     "]"}], "<>", "\"\<;\\n\\n\>\""}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<  return gradalpha;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "metricComponentDerivativeRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<grad_lapse.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], "]"}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i grad_lapse.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv grad_lapse.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.86847924650378*^9, 3.868479304621502*^9}, {3.868479356091648*^9, 
   3.868479383663774*^9}, {3.868481115870646*^9, 3.86848113336057*^9}, {
   3.868481298158586*^9, 3.868481302506521*^9}},
 CellLabel->
  "In[201]:=",ExpressionUUID->"e023fe7d-f334-4fe5-8d1e-e98268ec1837"]
}, Closed]],

Cell[CellGroupData[{

Cell["Grad ushift code", "Section",
 CellChangeTimes->{{3.86843919338174*^9, 3.868439195311709*^9}, {
  3.868443483034787*^9, 3.8684434947444773`*^9}, {3.86845939026473*^9, 
  3.86845939164471*^9}, {3.868460800761063*^9, 3.868460825459573*^9}, {
  3.868461654866417*^9, 3.868461655526359*^9}, {3.868463665417062*^9, 
  3.86846367186619*^9}, {3.868465292952746*^9, 3.8684652950428247`*^9}, {
  3.8684795445141897`*^9, 
  3.868479547204159*^9}},ExpressionUUID->"a028fb09-f0fe-44b9-993e-\
777659d83339"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"ClearAll", "[", "str", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "str", "=", 
    "\"\<#include \\\"SKS.hpp\\\"\n\nusing namespace grlensing;\n\n\
GRLENSING_SKS_METRIC_API auto SKS::grad_ushift(double t, double x, double y, \
double z)\n    -> metric_server::spatial_matrix {\n\n  using std::pow;\n\n  \
metric_server::spatial_matrix gradushift{};\n\n\>\""}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"expr", "=", 
    RowBox[{"hoistCommonSubexpressions", "[", "\[IndentingNewLine]", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
           ",", "x"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
           ",", "x"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
           ",", "x"}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
           ",", "y"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
           ",", "y"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
           ",", "y"}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
           ",", "z"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
           ",", "z"}], "]"}], ",", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{
           "ushift", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
           ",", "z"}], "]"}]}], "}"}]}], "\[IndentingNewLine]", "}"}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"str", "=", 
      RowBox[{"str", "<>", 
       RowBox[{"ruleToString", "[", 
        RowBox[{"expr", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
       "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"Length", "[", 
        RowBox[{
        "expr", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Do", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"str", "=", 
     RowBox[{"str", "<>", "\"\<\\n  gradushift[\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"i", "-", "1"}], "]"}], "<>", "\"\<][\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"j", "-", "1"}], "]"}], "<>", "\"\<] = \>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
         "expr", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
         "\[LeftDoubleBracket]", 
         RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], ",", "CForm"}], 
       "]"}], "<>", "\"\<;\\n\>\""}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", "3"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"j", ",", "1", ",", "3"}], "}"}]}], "\[IndentingNewLine]", "]"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"str", "<>", "\"\<\\n return gradushift;\\n}\>\""}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"str", "=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"str", ",", "metricComponentDerivativeRules"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"str", "=", 
    RowBox[{"StringReplace", "[", 
     RowBox[{"str", ",", "metricComponentRules"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Export", "[", 
   RowBox[{"\"\<grad_ushift.cpp\>\"", ",", "str", ",", "\"\<Text\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Run", "[", "\"\<clang-format -i grad_ushift.cpp\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
   "Run", "[", "\"\<mv grad_ushift.cpp ../../plugins/metrics/SKS/source\>\"", 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "str", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "expr", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868439531872287*^9, 3.868439540226551*^9}, {
   3.868440397954917*^9, 3.868440407694569*^9}, {3.868441452647648*^9, 
   3.868441504288352*^9}, 3.86844153517411*^9, {3.8684424834949512`*^9, 
   3.868442530353948*^9}, {3.8684426354131527`*^9, 3.868442684224793*^9}, {
   3.868443188102881*^9, 3.868443256730607*^9}, {3.8684433232790728`*^9, 
   3.86844336587852*^9}, {3.868443530099223*^9, 3.868443564642498*^9}, {
   3.8684577583000097`*^9, 3.86845782001092*^9}, {3.86845901985045*^9, 
   3.86845928073599*^9}, {3.8684593179766283`*^9, 3.868459326766025*^9}, {
   3.868459441893629*^9, 3.8684594596743507`*^9}, {3.8684595043546677`*^9, 
   3.868459573673687*^9}, {3.868459605954773*^9, 3.8684596804925537`*^9}, {
   3.86845971442517*^9, 3.8684597188424664`*^9}, {3.868459772493168*^9, 
   3.868459867475919*^9}, {3.868459932461158*^9, 3.868460025622456*^9}, {
   3.868460104580467*^9, 3.8684601307208433`*^9}, {3.8684601619907227`*^9, 
   3.8684601848505783`*^9}, {3.868460338699321*^9, 3.86846034883677*^9}, {
   3.868460473748473*^9, 3.868460474699133*^9}, {3.868461017811212*^9, 
   3.8684610834851503`*^9}, {3.86846111664362*^9, 3.868461191187995*^9}, {
   3.868461251758017*^9, 3.868461365883768*^9}, {3.868461409492908*^9, 
   3.868461416645146*^9}, {3.868461615093453*^9, 3.8684617164886837`*^9}, {
   3.868463707304528*^9, 3.868463744845603*^9}, {3.868464163839583*^9, 
   3.868464169209422*^9}, {3.868464278388085*^9, 3.868464280109803*^9}, {
   3.868465099397458*^9, 3.8684651564754*^9}, {3.868465188887418*^9, 
   3.86846519063492*^9}, {3.868465311858987*^9, 3.868465351621957*^9}, {
   3.868466060859128*^9, 3.8684660962470493`*^9}, {3.8684795660205917`*^9, 
   3.868479608184321*^9}, {3.868479698211265*^9, 3.868479772208667*^9}, {
   3.868479807518861*^9, 3.8684798101481028`*^9}, {3.868481165530004*^9, 
   3.8684811728496237`*^9}, {3.8684813195794773`*^9, 3.868481322956952*^9}},
 CellLabel->
  "In[218]:=",ExpressionUUID->"0ab0b32a-e1d2-48f5-9334-6369003d64fe"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Metric components codegen", "Title",
 CellChangeTimes->{{3.86847991167406*^9, 
  3.8684799156038027`*^9}},ExpressionUUID->"11f83cd4-d82e-4d87-b5fd-\
c34399b0df27"],

Cell[CellGroupData[{

Cell["CSE and codegen utilities", "Section",
 CellChangeTimes->{{3.868439204911605*^9, 
  3.868439214061768*^9}},ExpressionUUID->"9dabb1ed-2e99-443f-932c-\
2a303feb5221"],

Cell[CellGroupData[{

Cell["CSE", "Subsection",
 CellChangeTimes->{{3.868371468625771*^9, 
  3.868371468976837*^9}},ExpressionUUID->"865f6cbf-3ec2-4cd9-bded-\
dd49e6b42038"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"stackoverflow", ".", "com"}], "/", "questions"}], "/", 
       "4202845"}], "/", "mathematica"}], "-", "using", "-", "simplify", "-", 
     "to", "-", "do", "-", "common", "-", "sub", "-", "expression", "-", 
     "elimination", "-", "and", "-", "reductio"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"stoney", ".", "sb", ".", "org"}], "/", "wordpress"}], "/", 
      "wp"}], "-", 
     RowBox[{
      RowBox[{"content", "/", "cvt2c"}], "/"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"<<", "cse.m"}]}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"fa9c792d-b0a5-407a-a2f6-9aa80cc8dcaa"]
}, Closed]],

Cell[CellGroupData[{

Cell["Function body generators", "Subsection",
 CellChangeTimes->{{3.868371881858344*^9, 
  3.868371887049727*^9}},ExpressionUUID->"1e9815af-ef17-44e9-b19d-\
9cc2eb486df4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ruleToString", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ruleToString", "[", 
    RowBox[{"Rule", "[", 
     RowBox[{"a_", ",", "b_"}], "]"}], "]"}], ":=", 
   RowBox[{"\"\<const double \>\"", "<>", 
    RowBox[{"ToString", "[", "b", "]"}], "<>", "\"\< = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{"a", ",", "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "genBody", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genBody", "[", "original_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cse", ",", "resultString"}], "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cse", "=", 
      RowBox[{"hoistCommonSubexpressions", "[", "original", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Do", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"resultString", "=", 
        RowBox[{"resultString", "<>", 
         RowBox[{"ruleToString", "[", 
          RowBox[{"cse", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
         "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", 
          RowBox[{
          "cse", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
          "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", 
      RowBox[{"resultString", "<>", "\"\<\\nreturn \>\"", "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{
         RowBox[{
         "cse", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
         "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "resultString", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.86837155898555*^9, 3.8683716935516977`*^9}, {
  3.868371727293956*^9, 3.868371854258505*^9}, {3.868371911508793*^9, 
  3.868371923878261*^9}, {3.8683741717565947`*^9, 3.868374171865741*^9}, {
  3.868375564066785*^9, 3.86837557886977*^9}, {3.8683975802513723`*^9, 
  3.8683975840237627`*^9}, {3.868401516388443*^9, 3.868401529950522*^9}, {
  3.8684392400919952`*^9, 3.8684392414916477`*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"171c60cc-9d20-4709-b548-c6e55cc5312e"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["String replacement rules", "Section",
 CellChangeTimes->{{3.868439254180686*^9, 3.86843926001075*^9}, 
   3.868463799074551*^9},ExpressionUUID->"601e7f29-25d5-470a-be87-\
880107fb2ab1"],

Cell[CellGroupData[{

Cell["Capitalization", "Subsection",
 CellChangeTimes->{{3.868439493907201*^9, 
  3.868439496307272*^9}},ExpressionUUID->"bd1150c7-3784-45a6-8438-\
3f6faabac889"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "capitalizationRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"capitalizationRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Sqrt\>\"", "\[Rule]", "\"\<sqrt\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Power\>\"", "\[Rule]", "\"\<pow\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868316105323255*^9, 3.868316157929685*^9}, {
   3.868316230109397*^9, 3.868316306948285*^9}, {3.86831634177719*^9, 
   3.86831635056705*^9}, {3.868316425275738*^9, 3.868316537946056*^9}, {
   3.868316591092558*^9, 3.868316597142627*^9}, {3.8683166621718187`*^9, 
   3.8683166908708763`*^9}, {3.868371896499003*^9, 3.8683719011111813`*^9}, {
   3.868375787792369*^9, 3.86837583159341*^9}, {3.868381925961285*^9, 
   3.868381934913391*^9}, {3.8683968959356737`*^9, 3.8683970125234003`*^9}, {
   3.8684004316580677`*^9, 3.868400458276379*^9}, {3.868400961138571*^9, 
   3.868400962018216*^9}, {3.8684011791176558`*^9, 3.868401187714568*^9}, {
   3.868401291792986*^9, 3.868401466970656*^9}, {3.868401504491877*^9, 
   3.8684015112202682`*^9}, 3.868439343095846*^9},
 CellLabel->"In[6]:=",ExpressionUUID->"147a9c50-f48d-41d1-8e2e-87ab4360e989"]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory", "Subsection",
 CellChangeTimes->{{3.8684844615092793`*^9, 
  3.868484465568892*^9}},ExpressionUUID->"bb4cabbe-4c1f-4868-844c-\
2d689adb8077"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "trajectoryRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trajectoryRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<s(1,1,t)\>\"", "\[Rule]", "\"\<sx(1,t)\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<s(1,2,t)\>\"", "\[Rule]", "\"\<sy(1,t)\>\""}], ",", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"\"\<s(2,1,t)\>\"", "\[Rule]", "\"\<sx(2,t)\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<s(2,2,t)\>\"", "\[Rule]", "\"\<sy(2,t)\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868484474842311*^9, 3.868484505457848*^9}, {
  3.868484566826496*^9, 3.868484616554707*^9}},
 CellLabel->"In[8]:=",ExpressionUUID->"86b0f729-b49e-483f-bef0-77fdcf4b4757"]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory derivative rules", "Subsection",
 CellChangeTimes->{{3.8684846680229*^9, 
  3.8684846728027983`*^9}},ExpressionUUID->"e4a8b6af-ce24-4ebe-b7df-\
aafffb17d9d7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "trajectoryDerivRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trajectoryDerivRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(1,1,t)\>\"", "\[Rule]", 
      "\"\<dsx_dt(1,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(1,2,t)\>\"", "\[Rule]", 
      "\"\<dsy_dt(1,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(2,1,t)\>\"", "\[Rule]", 
      "\"\<dsx_dt(2,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(2,2,t)\>\"", "\[Rule]", 
      "\"\<dsy_dt(2,t)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(1,1,t)\>\"", "\[Rule]", 
      "\"\<d2sx_dt2(1,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(1,2,t)\>\"", "\[Rule]", 
      "\"\<d2sy_dt2(1,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(2,1,t)\>\"", "\[Rule]", 
      "\"\<d2sx_dt2(2,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(2,2,t)\>\"", "\[Rule]", 
      "\"\<d2sy_dt2(2,t)\>\""}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.8684846813733253`*^9, 3.8684847247217607`*^9}, {
  3.868485354925947*^9, 3.868485371446154*^9}, {3.868547438372093*^9, 
  3.868547457021862*^9}},
 CellLabel->"In[10]:=",ExpressionUUID->"d1cd63be-21fe-429b-ba58-b15c8aa67195"]
}, Closed]],

Cell[CellGroupData[{

Cell["Kerr schild functions", "Subsection",
 CellChangeTimes->{{3.8684870717307777`*^9, 
  3.8684870754406137`*^9}},ExpressionUUID->"3742924f-35e8-45c1-acde-\
7bb9c9dd75ee"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ksRules", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ksRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<H\>\"", "\[Rule]", "\"\<H_KS\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<l2\>\"", "\[Rule]", "\"\<l1_KS\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<l3\>\"", "\[Rule]", "\"\<l2_KS\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<l4\>\"", "\[Rule]", "\"\<l3_KS\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868487097081666*^9, 3.868487158058959*^9}, {
  3.8685466344869137`*^9, 3.868546635596283*^9}, {3.8685473480124493`*^9, 
  3.868547349322267*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"79dd37b4-d01d-472c-aaee-a1390b870869"]
}, Closed]],

Cell[CellGroupData[{

Cell["Kerr schild functions derivative", "Subsection",
 CellChangeTimes->{{3.8684870717307777`*^9, 3.8684870754406137`*^9}, {
  3.868546282262673*^9, 
  3.868546286422804*^9}},ExpressionUUID->"1874014e-d625-46c8-8692-\
f4b02cdcabf0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ksDerivRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ksDerivRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
     "\"\<Derivative(0,0,1,0,0)(H_KS)\>\"", "\[Rule]", "\"\<dH_KS_dX\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1,0)(H_KS)\>\"", "\[Rule]", "\"\<dH_KS_dY\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1)(H_KS)\>\"", "\[Rule]", "\"\<dH_KS_dZ\>\""}], 
     ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,1,0,0)(l1_KS)\>\"", "\[Rule]", "\"\<dl1_KS_dX\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0)(l1_KS)\>\"", "\[Rule]", "\"\<dl1_KS_dY\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1)(l1_KS)\>\"", "\[Rule]", "\"\<dl1_KS_dZ\>\""}], 
     ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,1,0,0)(l2_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dX\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0)(l2_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dY\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1)(l2_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dZ\>\""}], 
     ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,1,0,0)(l3_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dX\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1,0)(l3_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dY\>\""}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,1)(l3_KS)\>\"", "\[Rule]", "\"\<dl2_KS_dZ\>\""}]}],
     "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868487097081666*^9, 3.868487158058959*^9}, {
  3.868546298401651*^9, 3.8685463189922037`*^9}, {3.868546350752412*^9, 
  3.868546363242334*^9}, {3.8685464213302183`*^9, 3.868546458023291*^9}, {
  3.868546503169821*^9, 3.868546618466544*^9}, {3.868547294403957*^9, 
  3.868547298853428*^9}, {3.868566412846994*^9, 3.8685664223559237`*^9}},
 CellLabel->"In[14]:=",ExpressionUUID->"feee99de-2ef4-48c8-93c0-9bff5ee40e8d"]
}, Closed]],

Cell[CellGroupData[{

Cell["Coordinate transform derivative rules", "Subsection",
 CellChangeTimes->{{3.8685659715680447`*^9, 
  3.868565997977545*^9}},ExpressionUUID->"c5038e68-35e0-498d-9618-\
d339d1548100"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "coordTransfDerivRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coordTransfDerivRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Derivative(0,1,0,0,0)(T)\>\"", "\[Rule]", "\"\<dT_dt\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,1,0,0)(T)\>\"", "\[Rule]", "\"\<dT_dx\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,1,0)(T)\>\"", "\[Rule]", "\"\<dT_dy\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,0,1)(T)\>\"", "\[Rule]", "\"\<dT_dz\>\""}],
      ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,1,0,0,0)(X)\>\"", "\[Rule]", "\"\<dX_dt\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,1,0,0)(X)\>\"", "\[Rule]", "\"\<dX_dx\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,1,0)(X)\>\"", "\[Rule]", "\"\<dX_dy\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,0,1)(X)\>\"", "\[Rule]", "\"\<dX_dz\>\""}],
      ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,1,0,0,0)(Y)\>\"", "\[Rule]", "\"\<dY_dt\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,1,0,0)(Y)\>\"", "\[Rule]", "\"\<dY_dx\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,1,0)(Y)\>\"", "\[Rule]", "\"\<dY_dy\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,0,1)(Y)\>\"", "\[Rule]", "\"\<dY_dz\>\""}],
      ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,1,0,0,0)(Z)\>\"", "\[Rule]", "\"\<dZ_dt\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,1,0,0)(Z)\>\"", "\[Rule]", "\"\<dZ_dx\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{"\"\<Derivative(0,0,0,1,0)(Z)\>\"", "\[Rule]", "\"\<dZ_dy\>\""}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,0,0,1)(Z)\>\"", "\[Rule]", "\"\<dZ_dz\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868565980646309*^9, 3.86856607547605*^9}, {
  3.8685661639550753`*^9, 3.868566165303603*^9}},
 CellLabel->"In[16]:=",ExpressionUUID->"03ac1245-a01e-4084-811d-f7fe089ca560"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["4 - Metric", "Section",
 CellChangeTimes->{{3.868482316062101*^9, 
  3.868482321392345*^9}},ExpressionUUID->"eedbedb9-c140-497a-b81c-\
47324a01d5ac"],

Cell[CellGroupData[{

Cell["Trajectory Parameters", "Subsection",
 CellChangeTimes->{{3.861117175300764*^9, 3.861117176651064*^9}, {
  3.868312539238172*^9, 
  3.868312540807959*^9}},ExpressionUUID->"bea3b258-a19e-49c3-87a9-\
6a08518ef513"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"v", ",", "v2"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "1"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"s", "[", 
       RowBox[{"bhIdx", ",", "1", ",", "t"}], "]"}], ",", "t"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "2"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"s", "[", 
       RowBox[{"bhIdx", ",", "2", ",", "t"}], "]"}], ",", "t"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "3"}], "]"}], "=", "0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"v2", "[", "bhIdx_", "]"}], "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "1"}], "]"}], "^", "2"}], "+", 
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "2"}], "]"}], "^", "2"}], "+", 
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "3"}], "]"}], "^", "2"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "n", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "[", 
    RowBox[{"bhIdx_", ",", "1"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"v", "[", 
      RowBox[{"bhIdx", ",", "1"}], "]"}], "/", 
     SqrtBox[
      RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "[", 
    RowBox[{"bhIdx_", ",", "2"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"v", "[", 
      RowBox[{"bhIdx", ",", "2"}], "]"}], "/", 
     SqrtBox[
      RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"n", "[", 
     RowBox[{"bhIdx_", ",", "3"}], "]"}], "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{"v", "[", 
       RowBox[{"bhIdx", ",", "3"}], "]"}], "/", 
      SqrtBox[
       RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "\[Gamma]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Gamma]", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     FractionBox["1", 
      SqrtBox[
       RowBox[{"1", "-", 
        RowBox[{"v2", "[", "bhIdx", "]"}]}]]], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"b", ">", "0"}], ",", 
       RowBox[{"M1", ">", "0"}], ",", 
       RowBox[{"M2", ">", "0"}]}], "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.865524415966897*^9, 3.86552450094634*^9}, {
   3.865524535705659*^9, 3.865524577444357*^9}, {3.8655246263548803`*^9, 
   3.8655247221620207`*^9}, {3.8655247587139597`*^9, 3.865524763002427*^9}, {
   3.865524836472784*^9, 3.865524854740614*^9}, {3.8655257699381237`*^9, 
   3.865525797397901*^9}, {3.865525836069531*^9, 3.865525920534947*^9}, {
   3.8655259535456867`*^9, 3.8655260364731073`*^9}, {3.8655261499617853`*^9, 
   3.8655262074301443`*^9}, {3.865526268380827*^9, 3.865526340467456*^9}, {
   3.8656428148073187`*^9, 3.865643058742819*^9}, {3.866726555357901*^9, 
   3.8667266368467607`*^9}, {3.86673043501088*^9, 3.866730505437317*^9}, {
   3.8667305850387707`*^9, 3.866730707203352*^9}, {3.86680872129394*^9, 
   3.866808748958291*^9}, {3.866810261959326*^9, 3.8668102701881647`*^9}, {
   3.866812240482986*^9, 3.866812249263751*^9}, 3.866812591336658*^9, {
   3.866817670121509*^9, 3.8668177369491367`*^9}, {3.866820373073388*^9, 
   3.866820388151572*^9}, 3.866820479590761*^9, {3.8668367698413067`*^9, 
   3.866836824467847*^9}, {3.866838253643696*^9, 3.866838258861363*^9}, {
   3.8668433938138447`*^9, 3.86684343260563*^9}, {3.866843566561852*^9, 
   3.8668436077288733`*^9}, {3.866843639518705*^9, 3.866843640959424*^9}, {
   3.8668461263282957`*^9, 3.866846131606632*^9}, {3.8681135914439793`*^9, 
   3.8681136278999453`*^9}, {3.868128508421637*^9, 3.868128528141382*^9}, {
   3.8683123424645777`*^9, 3.868312365057095*^9}, {3.8683123985045147`*^9, 
   3.868312403733046*^9}, {3.868312519773333*^9, 3.8683125321105328`*^9}, {
   3.868482449212385*^9, 3.868482450281295*^9}, {3.868484256585382*^9, 
   3.8684842574242764`*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"435096a1-0604-4b9a-ac01-fa0009db88df"]
}, Closed]],

Cell[CellGroupData[{

Cell["Lorentz Boost", "Subsection",
 CellChangeTimes->{{3.865468244320264*^9, 
  3.8654682473304043`*^9}},ExpressionUUID->"36752436-f1d2-4593-8efd-\
8291ec0937ba"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "\[CapitalLambda]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"\[CapitalLambda]", "[", "bhIdx_", "]"}], "=", 
   RowBox[{"FullSimplify", "[", "\[IndentingNewLine]", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Gamma]", ",", 
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}]}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}]}], ",", 
        RowBox[{"1", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "1"}], "]"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "1"}], "]"}]}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}]}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}]}], ",", 
        RowBox[{"1", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "2"}], "]"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "2"}], "]"}]}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}]}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "\[Gamma]"}], "*", 
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "3"}], "]"}], 
         RowBox[{"n", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}]}], ",", 
        RowBox[{"1", "+", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "3"}], "]"}], 
          RowBox[{"n", "[", 
           RowBox[{"bhIdx", ",", "3"}], "]"}]}]}]}], "}"}]}], 
     "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.865468249345998*^9, 3.865468360068568*^9}, {
  3.865468599315675*^9, 3.8654686927924*^9}, {3.865468725532305*^9, 
  3.865468745012939*^9}, {3.865643189802102*^9, 3.8656432192703247`*^9}, {
  3.865643287768907*^9, 3.865643439976343*^9}, {3.866726854623457*^9, 
  3.866726864592852*^9}, {3.8668456981980867`*^9, 3.86684570029672*^9}, {
  3.866846302103363*^9, 3.866846311231977*^9}, {3.868113637369336*^9, 
  3.868113654541634*^9}, {3.868484214087887*^9, 3.868484223076269*^9}},
 CellLabel->"In[29]:=",ExpressionUUID->"e10e0cab-ff4d-4d74-b62a-a7dc31276209"]
}, Closed]],

Cell[CellGroupData[{

Cell["Boosted \[ScriptCapitalH]", "Subsection",
 CellChangeTimes->{{3.8656473644295187`*^9, 
  3.865647375989092*^9}},ExpressionUUID->"0f506c05-a7f6-4ffc-bd70-\
27da0789fab7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "boostedL", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"boostedL", "[", 
    RowBox[{"bhIdx_", ",", "a_", ",", "X_", ",", "Y_", ",", "Z_", ",", "1"}], 
    "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], "\[LeftDoubleBracket]", 
      RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"2", ",", "1"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l2", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"3", ",", "1"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l3", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"4", ",", "1"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l4", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"boostedL", "[", 
    RowBox[{"bhIdx_", ",", "a_", ",", "X_", ",", "Y_", ",", "Z_", ",", "2"}], 
    "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], "\[LeftDoubleBracket]", 
      RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"2", ",", "2"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l2", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"3", ",", "2"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l3", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"4", ",", "2"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l4", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"boostedL", "[", 
    RowBox[{"bhIdx_", ",", "a_", ",", "X_", ",", "Y_", ",", "Z_", ",", "3"}], 
    "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], "\[LeftDoubleBracket]", 
      RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"2", ",", "3"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l2", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"3", ",", "3"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l3", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"4", ",", "3"}], "\[RightDoubleBracket]"}], 
      RowBox[{"l4", "[", 
       RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"boostedL", "[", 
     RowBox[{"bhIdx_", ",", "a_", ",", "X_", ",", "Y_", ",", "Z_", ",", "4"}],
      "]"}], "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
       "\[LeftDoubleBracket]", 
       RowBox[{"1", ",", "4"}], "\[RightDoubleBracket]"}], "+", 
      RowBox[{
       RowBox[{
        RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
        "\[LeftDoubleBracket]", 
        RowBox[{"2", ",", "4"}], "\[RightDoubleBracket]"}], 
       RowBox[{"l2", "[", 
        RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{
        RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
        "\[LeftDoubleBracket]", 
        RowBox[{"3", ",", "4"}], "\[RightDoubleBracket]"}], 
       RowBox[{"l3", "[", 
        RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}], "+", 
      RowBox[{
       RowBox[{
        RowBox[{"\[CapitalLambda]", "[", "bhIdx", "]"}], 
        "\[LeftDoubleBracket]", 
        RowBox[{"4", ",", "4"}], "\[RightDoubleBracket]"}], 
       RowBox[{"l4", "[", 
        RowBox[{"a", ",", "X", ",", "Y", ",", "Z"}], "]"}]}]}], "]"}]}], 
   ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "boosted\[ScriptCapitalH]", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"boosted\[ScriptCapitalH]", "[", 
    RowBox[{
    "bhIdx_", ",", "M_", ",", "a_", ",", "X_", ",", "Y_", ",", "Z_", ",", 
     "AA_", ",", "BB_"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"H", "[", 
      RowBox[{"M", ",", "a", ",", "X", ",", "Y", ",", "Z"}], "]"}], 
     RowBox[{"boostedL", "[", 
      RowBox[{"bhIdx", ",", "a", ",", "X", ",", "Y", ",", "Z", ",", "AA"}], 
      "]"}], 
     RowBox[{"boostedL", "[", 
      RowBox[{"bhIdx", ",", "a", ",", "X", ",", "Y", ",", "Z", ",", "BB"}], 
      "]"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.865647378309247*^9, 3.8656474789568663`*^9}, {
   3.8656475308485203`*^9, 3.865647563624443*^9}, {3.866814858248176*^9, 
   3.86681486455652*^9}, {3.8668158876457376`*^9, 3.866815893034609*^9}, {
   3.8668159739729958`*^9, 3.8668159770127974`*^9}, {3.866818099365725*^9, 
   3.866818123961781*^9}, {3.866818205340076*^9, 3.866818242178976*^9}, {
   3.8668184126967907`*^9, 3.86681841808622*^9}, {3.86682005795782*^9, 
   3.866820058556148*^9}, {3.866820118205474*^9, 3.866820146094963*^9}, {
   3.866820290432303*^9, 3.866820292921397*^9}, {3.866823936585787*^9, 
   3.8668239386252947`*^9}, {3.866824039004294*^9, 3.866824042886331*^9}, {
   3.866824927298774*^9, 3.86682495990772*^9}, {3.866826806982519*^9, 
   3.866826808781515*^9}, {3.866826994548962*^9, 3.86682701179856*^9}, {
   3.866827409380694*^9, 3.8668275817173557`*^9}, {3.866827612596919*^9, 
   3.866827666785266*^9}, {3.866827950551259*^9, 3.866827954939988*^9}, {
   3.866835762527944*^9, 3.866835903139186*^9}, {3.8668359705460367`*^9, 
   3.8668360150280647`*^9}, 3.8668362836701193`*^9, {3.866844227896179*^9, 
   3.8668442479341393`*^9}, {3.866846322092873*^9, 3.866846340311244*^9}, {
   3.868113782917631*^9, 3.8681137897195873`*^9}, {3.8681285645108833`*^9, 
   3.868128575761257*^9}, {3.868128807585561*^9, 3.868128814037709*^9}, {
   3.8684860673323*^9, 3.868486099380665*^9}, {3.868486169710091*^9, 
   3.868486184678617*^9}, {3.8685472625358543`*^9, 3.8685472800751343`*^9}, {
   3.868547318224504*^9, 3.8685473327637787`*^9}},
 CellLabel->"In[31]:=",ExpressionUUID->"5b7667f1-d45c-47c6-89f5-cb4cb6b3d952"]
}, Closed]],

Cell[CellGroupData[{

Cell["4-metric assembly", "Subsection",
 CellChangeTimes->{{3.861203967988662*^9, 
  3.861203971268839*^9}},ExpressionUUID->"bd24b7a1-42e4-408d-9b78-\
71c1ef99e57b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "llgSKS", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"llgSKS", "=", 
   RowBox[{"Block", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "\[Eta]", ",", "X1", ",", "Y1", ",", "Z1", ",", "X2", ",", "Y2", ",", 
       "Z2", ",", "bh1", ",", "bh2", ",", "i", ",", "j"}], "}"}], ",", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"X1", "=", 
       RowBox[{"eqX", "[", "1", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Y1", "=", 
       RowBox[{"eqY", "[", "1", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Z1", "=", 
       RowBox[{"eqZ", "[", "1", "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"X2", "=", 
       RowBox[{"eqX", "[", "2", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Y2", "=", 
       RowBox[{"eqY", "[", "2", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Z2", "=", 
       RowBox[{"eqZ", "[", "2", "]"}]}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"bh1", "=", 
       RowBox[{"ConstantArray", "[", 
        RowBox[{"0", ",", 
         RowBox[{"{", 
          RowBox[{"4", ",", "4"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"i", "=", "1"}], ",", 
        RowBox[{"i", "\[LessEqual]", "4"}], ",", 
        RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
        RowBox[{"For", "[", 
         RowBox[{
          RowBox[{"j", "=", "1"}], ",", 
          RowBox[{"j", "\[LessEqual]", "4"}], ",", 
          RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"bh1", "\[LeftDoubleBracket]", 
             RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], "=", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"boosted\[ScriptCapitalH]", "[", 
                RowBox[{
                "1", ",", "M", ",", "a", ",", "X", ",", "Y", ",", "Z", ",", 
                 "i", ",", "j"}], "]"}], "//.", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"M", "\[Rule]", "M1"}], ",", 
                 RowBox[{"a", "\[Rule]", "a1"}]}], "}"}]}], "/.", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"X", "\[Rule]", 
                 RowBox[{"X", "[", 
                  RowBox[{"1", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}], ",", 
                RowBox[{"Y", "\[Rule]", 
                 RowBox[{"Y", "[", 
                  RowBox[{"1", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}], ",", 
                RowBox[{"Z", "\[Rule]", 
                 RowBox[{"Z", "[", 
                  RowBox[{"1", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}]}], "}"}]}], ")"}]}], ";"}]}], "\[IndentingNewLine]",
          "]"}]}], "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"bh2", "=", 
       RowBox[{"ConstantArray", "[", 
        RowBox[{"0", ",", 
         RowBox[{"{", 
          RowBox[{"4", ",", "4"}], "}"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"i", "=", "1"}], ",", 
        RowBox[{"i", "\[LessEqual]", "4"}], ",", 
        RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
        RowBox[{"For", "[", 
         RowBox[{
          RowBox[{"j", "=", "1"}], ",", 
          RowBox[{"j", "\[LessEqual]", "4"}], ",", 
          RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"bh2", "\[LeftDoubleBracket]", 
             RowBox[{"i", ",", "j"}], "\[RightDoubleBracket]"}], "=", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"boosted\[ScriptCapitalH]", "[", 
                RowBox[{
                "2", ",", "M", ",", "a", ",", "X", ",", "Y", ",", "Z", ",", 
                 "i", ",", "j"}], "]"}], "//.", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"M", "\[Rule]", "M2"}], ",", 
                 RowBox[{"a", "\[Rule]", "a2"}]}], "}"}]}], "/.", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"X", "\[Rule]", 
                 RowBox[{"X", "[", 
                  RowBox[{"2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}], ",", 
                RowBox[{"Y", "\[Rule]", 
                 RowBox[{"Y", "[", 
                  RowBox[{"2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}], ",", 
                RowBox[{"Z", "\[Rule]", 
                 RowBox[{"Z", "[", 
                  RowBox[{"2", ",", "t", ",", "x", ",", "y", ",", "z"}], 
                  "]"}]}]}], "}"}]}], ")"}]}], ";"}]}], "\[IndentingNewLine]",
          "]"}]}], "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
      "\[IndentingNewLine]", 
      RowBox[{"\[Eta]", "=", 
       RowBox[{"DiagonalMatrix", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", "1", ",", "1", ",", "1"}], "}"}], "]"}]}], 
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"\[Eta]", "+", "bh1", "+", "bh2"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.861214198023122*^9, 3.861214218191215*^9}, {
   3.861214406844845*^9, 3.8612144807930603`*^9}, {3.861232332362925*^9, 
   3.8612323986409683`*^9}, {3.8612324591427107`*^9, 3.861232665651525*^9}, {
   3.8612326961995773`*^9, 3.8612329333174343`*^9}, {3.861233000167461*^9, 
   3.8612330033468018`*^9}, {3.86123304404681*^9, 3.8612330578966303`*^9}, {
   3.861233095374798*^9, 3.86123311561348*^9}, {3.861233149250637*^9, 
   3.861233181387703*^9}, {3.861233422893813*^9, 3.861233432232362*^9}, {
   3.861235150000181*^9, 3.8612352476772127`*^9}, 3.8612353119107523`*^9, {
   3.861235367758133*^9, 3.8612353682263803`*^9}, {3.861910628170557*^9, 
   3.861910678698352*^9}, {3.861910730255834*^9, 3.861910776842757*^9}, {
   3.861910818480976*^9, 3.861910825370202*^9}, {3.8619108611298532`*^9, 
   3.861910866348127*^9}, {3.861910925147826*^9, 3.861910939997694*^9}, {
   3.861910991335287*^9, 3.861910993784485*^9}, {3.862414525739798*^9, 
   3.86241457709769*^9}, {3.862414631666744*^9, 3.862414696905101*^9}, {
   3.862414727030507*^9, 3.8624148671834927`*^9}, {3.865013026873619*^9, 
   3.86501302761779*^9}, {3.865013105702722*^9, 3.8650131086687326`*^9}, {
   3.86535198019002*^9, 3.8653519873189898`*^9}, {3.86535279032789*^9, 
   3.865352812344174*^9}, {3.865359120067219*^9, 3.8653591206841373`*^9}, {
   3.865433323227047*^9, 3.865433451905299*^9}, {3.865433488195641*^9, 
   3.865433530425619*^9}, {3.865433590782172*^9, 3.865433592458993*^9}, {
   3.865469135034416*^9, 3.8654691458327513`*^9}, {3.86564600583885*^9, 
   3.865646026177759*^9}, {3.865646578516676*^9, 3.865646579846388*^9}, {
   3.8656467932124643`*^9, 3.865646884851976*^9}, {3.865647100207974*^9, 
   3.865647108186438*^9}, {3.865647303422084*^9, 3.865647325542205*^9}, 
   3.8656473588824*^9, {3.8656475770354967`*^9, 3.8656477745971527`*^9}, {
   3.865647807555604*^9, 3.865647903768586*^9}, {3.865647961561305*^9, 
   3.865647969031136*^9}, {3.866816911109275*^9, 3.866816915329042*^9}, {
   3.866817136584443*^9, 3.866817139814*^9}, {3.866818698520643*^9, 
   3.8668187912827597`*^9}, {3.8668188243595133`*^9, 3.866818869340055*^9}, {
   3.866818973821392*^9, 3.8668189868977547`*^9}, {3.866819060178199*^9, 
   3.866819064947411*^9}, {3.866819209544312*^9, 3.866819236844933*^9}, {
   3.866819286677269*^9, 3.866819297075508*^9}, {3.866819343815485*^9, 
   3.866819387511808*^9}, {3.866819579607584*^9, 3.8668195870872307`*^9}, {
   3.866819650556964*^9, 3.8668196548765*^9}, {3.8668200634189577`*^9, 
   3.866820092426619*^9}, {3.866824327310947*^9, 3.866824330760445*^9}, {
   3.866827120187018*^9, 3.866827121826496*^9}, {3.866846225075459*^9, 
   3.866846231784719*^9}, {3.866846346852791*^9, 3.8668463515221157`*^9}, {
   3.8681140796029673`*^9, 3.86811407991437*^9}, {3.868114870497032*^9, 
   3.868114879355521*^9}, {3.86812283727346*^9, 3.8681228416605864`*^9}, {
   3.868545510359291*^9, 3.868545514038464*^9}, {3.868545613176674*^9, 
   3.868545660825683*^9}},
 CellLabel->"In[38]:=",ExpressionUUID->"a190b50e-70d5-4a04-9c44-d1fb00f0166e"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Metric components codegen", "Section",
 CellChangeTimes->{{3.868484318022434*^9, 3.868484318712276*^9}, {
  3.8684882430264673`*^9, 
  3.868488249646393*^9}},ExpressionUUID->"8876be30-6fdf-4ad0-b0b0-\
3b2f6e529aa8"],

Cell[CellGroupData[{

Cell["Genereting function", "Subsection",
 CellChangeTimes->{{3.868488255176363*^9, 
  3.868488258736332*^9}},ExpressionUUID->"3cb637c0-587e-4093-bd7e-\
bf82d750d5bc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "genMetricComponent", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"genMetricComponent", "[", 
     RowBox[{"i_", ",", "j_"}], "]"}], ":=", 
    RowBox[{"Module", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"str", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"str", "=", 
        RowBox[{
        "\"\<#include \\\"SKS.hpp\\\"\n#include \\\"aux_functions.hpp\\\"\n\n\
auto grlensing::SKS::llgSKS_\>\"", "<>", 
         RowBox[{"ToString", "[", "i", "]"}], "<>", 
         RowBox[{"ToString", "[", "j", "]"}], "<>", 
         "\"\<(double t, double x, double y, double z) const noexcept -> \
double {\n\n  using namespace sks_aux;\n  using std::sqrt;\n  using std::pow;\
\n\n\>\""}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"str", "=", 
        RowBox[{"str", "<>", 
         RowBox[{"genBody", "[", 
          RowBox[{"Simplify", "[", 
           RowBox[{"llgSKS", "\[LeftDoubleBracket]", 
            RowBox[{
             RowBox[{"i", "+", "1"}], ",", 
             RowBox[{"j", "+", "1"}]}], "\[RightDoubleBracket]"}], "]"}], 
          "]"}], "<>", "\"\<\\n}\>\""}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"str", "=", 
        RowBox[{"StringReplace", "[", 
         RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"str", "=", 
        RowBox[{"StringReplace", "[", 
         RowBox[{"str", ",", "trajectoryRules"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"str", "=", 
        RowBox[{"StringReplace", "[", 
         RowBox[{"str", ",", "trajectoryDerivRules"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"str", "=", 
        RowBox[{"StringReplace", "[", 
         RowBox[{"str", ",", "ksRules"}], "]"}]}], ";", "\[IndentingNewLine]",
        "\[IndentingNewLine]", 
       RowBox[{"name", "=", 
        RowBox[{"\"\<g\>\"", "<>", 
         RowBox[{"ToString", "[", "i", "]"}], "<>", 
         RowBox[{"ToString", "[", "j", "]"}], "<>", "\"\<.cpp\>\""}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Export", "[", 
        RowBox[{"name", ",", "str", ",", "\"\<Text\>\""}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Run", "[", 
        RowBox[{"\"\<clang-format -i \>\"", "<>", "name"}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Run", "[", 
        RowBox[{
        "\"\<mv \>\"", "<>", "name", "<>", 
         "\"\< ../../plugins/metrics/SKS/source\>\""}], "]"}], ";"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "genMetricComponentDerivative", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"genMetricComponentDerivative", "[", 
    RowBox[{"i_", ",", "j_", ",", "var_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"str", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"str", "=", 
       RowBox[{
       "\"\<#include \\\"SKS.hpp\\\"\n#include \\\"aux_functions.hpp\\\"\n\n\
auto grlensing::SKS::dllgSKS_\>\"", "<>", 
        RowBox[{"ToString", "[", "i", "]"}], "<>", 
        RowBox[{"ToString", "[", "j", "]"}], "<>", "\"\<_d\>\"", "<>", 
        RowBox[{"ToString", "[", "var", "]"}], "<>", 
        "\"\<(double t, double x, double y, double z) const noexcept -> \
double {\n\n  using namespace sks_aux;\n  using std::sqrt;\n  using std::pow;\
\n\n\>\""}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"str", "<>", 
        RowBox[{"genBody", "[", 
         RowBox[{"D", "[", 
          RowBox[{
           RowBox[{"llgSKS", "\[LeftDoubleBracket]", 
            RowBox[{
             RowBox[{"i", "+", "1"}], ",", 
             RowBox[{"j", "+", "1"}]}], "\[RightDoubleBracket]"}], ",", 
           "var"}], "]"}], "]"}], "<>", "\"\<\\n}\>\""}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "trajectoryRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "trajectoryDerivRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "ksRules"}], "]"}]}], ";", "\[IndentingNewLine]", 
      
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "ksDerivRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "coordTransfDerivRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"name", "=", 
       RowBox[{"\"\<dg\>\"", "<>", 
        RowBox[{"ToString", "[", "i", "]"}], "<>", 
        RowBox[{"ToString", "[", "j", "]"}], "<>", "\"\<_d\>\"", "<>", 
        RowBox[{"ToString", "[", "var", "]"}], "<>", "\"\<.cpp\>\""}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{"name", ",", "str", ",", "\"\<Text\>\""}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{"\"\<clang-format -i \>\"", "<>", "name"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{
       "\"\<mv \>\"", "<>", "name", "<>", 
        "\"\< ../../plugins/metrics/SKS/source\>\""}], "]"}], ";"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868485487506357*^9, 3.868485550601577*^9}, {
   3.868485586682437*^9, 3.868485742458243*^9}, {3.868485786287992*^9, 
   3.8684858184171*^9}, {3.8684865533323402`*^9, 3.868486558330749*^9}, {
   3.868486657270918*^9, 3.868486659599221*^9}, {3.868486816737585*^9, 
   3.868486820465933*^9}, {3.868486864946609*^9, 3.868487022533046*^9}, {
   3.8684871660206413`*^9, 3.8684871731599617`*^9}, 3.86848735602656*^9, {
   3.868487504524808*^9, 3.868487536872937*^9}, {3.8684875679225883`*^9, 
   3.868487571291821*^9}, {3.8684876490015697`*^9, 3.868487659130623*^9}, {
   3.868487689220093*^9, 3.868487815197607*^9}, {3.868487883016389*^9, 
   3.868487885775139*^9}, {3.868487932365218*^9, 3.8684879349141617`*^9}, {
   3.868488538482785*^9, 3.8684886254810534`*^9}, {3.868488699310775*^9, 
   3.868488714290896*^9}, {3.868488780050754*^9, 3.8684887848393297`*^9}, {
   3.868546471341316*^9, 3.868546478301269*^9}, {3.8685660990474777`*^9, 
   3.86856610773669*^9}, {3.86856621220612*^9, 3.8685662144978456`*^9}},
 CellLabel->"In[40]:=",ExpressionUUID->"44ac459e-3b5a-467f-a9bf-5c0b747a413e"]
}, Closed]],

Cell[CellGroupData[{

Cell["Generation calls", "Subsection",
 CellChangeTimes->{{3.868488264276366*^9, 
  3.868488268196279*^9}},ExpressionUUID->"90e650f6-31f3-4509-8fa7-\
b5de9c6802c5"],

Cell[CellGroupData[{

Cell["metric", "Subsubsection",
 CellChangeTimes->{{3.868567052759581*^9, 
  3.868567053819512*^9}},ExpressionUUID->"d56604b1-f0d6-4310-a769-\
8c4fbe9a2305"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"ii", ",", "jj"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Do", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ii", "=", 
     RowBox[{"IntegerPart", "[", 
      RowBox[{"i", "/", "4"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"jj", "=", 
     RowBox[{"Mod", "[", 
      RowBox[{"i", ",", "4"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"ii", "\[LessEqual]", "jj"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genMetricComponent", "[", 
        RowBox[{"ii", ",", "jj"}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<completed \>\"", ",", "ii", ",", "\"\<  \>\"", ",", "jj"}], 
        "]"}], ";"}]}], "\[IndentingNewLine]", "]"}]}], ",", 
   "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"i", ",", "0", ",", "16"}], "}"}]}], "\[IndentingNewLine]", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"ii", ",", "jj"}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868485684398924*^9, 3.8684856910888357`*^9}, {
   3.868487250367488*^9, 3.868487274777463*^9}, {3.868487334386146*^9, 
   3.868487364735342*^9}, {3.86848754357373*^9, 3.868487547024659*^9}, {
   3.868487756348421*^9, 3.8684877747474537`*^9}, 3.868487835625185*^9, {
   3.868488404344021*^9, 3.868488425873274*^9}, {3.8685682159293137`*^9, 
   3.868568232057723*^9}},
 CellLabel->"In[44]:=",ExpressionUUID->"040b0ede-cf47-4538-99f3-3de73d67efad"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "0"}],
  SequenceForm["completed ", 0, "  ", 0],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633490347806*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"25cbfbe6-9ad9-46bb-8078-ef657a9f02e7"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1"}],
  SequenceForm["completed ", 0, "  ", 1],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633490771483*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"74c76f70-4e3f-4a10-96c3-9b09e3fa4ac4"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2"}],
  SequenceForm["completed ", 0, "  ", 2],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633491819021*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"fbf77139-10fa-449f-97cb-5fd337f4b627"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3"}],
  SequenceForm["completed ", 0, "  ", 3],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.8686334919146338`*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"3f307d87-3f8c-4465-b218-7e97eaa59b4e"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1"}],
  SequenceForm["completed ", 1, "  ", 1],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633493033622*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"e0eec3c1-47cc-499c-a248-54ceac5e03ed"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2"}],
  SequenceForm["completed ", 1, "  ", 2],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633494218811*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"0329de94-262d-4ae9-8c2e-13fb31bd85d7"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3"}],
  SequenceForm["completed ", 1, "  ", 3],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633494364643*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"f5ec5a81-69d7-4c84-9c81-59b613dc0e6b"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2"}],
  SequenceForm["completed ", 2, "  ", 2],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633495231758*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"52d48546-d4b1-4a79-bb7d-737e45e08b4d"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3"}],
  SequenceForm["completed ", 2, "  ", 3],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633495399096*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"bfbdd83a-b0dc-4cea-a049-38d12a4ff5a1"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3"}],
  SequenceForm["completed ", 3, "  ", 3],
  Editable->False]], "Print",
 CellChangeTimes->{3.868568242834238*^9, 3.8686261140168324`*^9, 
  3.868633495462968*^9},
 CellLabel->
  "During evaluation of \
In[44]:=",ExpressionUUID->"ce1ca0a2-d80e-4ddd-8b4e-1e61539703e7"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["metric derivative", "Subsubsection",
 CellChangeTimes->{{3.868567057369706*^9, 
  3.868567061909566*^9}},ExpressionUUID->"6f73d63c-6237-4356-a3ca-\
077d94cda7e7"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"ii", ",", "jj"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Do", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"ii", "=", 
     RowBox[{"IntegerPart", "[", 
      RowBox[{"i", "/", "4"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"jj", "=", 
     RowBox[{"Mod", "[", 
      RowBox[{"i", ",", "4"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"ii", "\[LessEqual]", "jj"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genMetricComponentDerivative", "[", 
        RowBox[{"ii", ",", "jj", ",", "t"}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<completed \>\"", ",", "ii", ",", "\"\<  \>\"", ",", "jj", ",", 
         " ", "\"\<  t\>\""}], "]"}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"genMetricComponentDerivative", "[", 
        RowBox[{"ii", ",", "jj", ",", "x"}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<completed \>\"", ",", "ii", ",", "\"\<  \>\"", ",", "jj", ",", 
         " ", "\"\<  x\>\""}], "]"}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"genMetricComponentDerivative", "[", 
        RowBox[{"ii", ",", "jj", ",", "y"}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<completed \>\"", ",", "ii", ",", "\"\<  \>\"", ",", "jj", ",", 
         " ", "\"\<  y\>\""}], "]"}], ";", "\[IndentingNewLine]", 
       "\[IndentingNewLine]", 
       RowBox[{"genMetricComponentDerivative", "[", 
        RowBox[{"ii", ",", "jj", ",", "z"}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<completed \>\"", ",", "ii", ",", "\"\<  \>\"", ",", "jj", ",", 
         " ", "\"\<  z\>\""}], "]"}], ";"}]}], "\[IndentingNewLine]", "]"}]}],
    ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"i", ",", "0", ",", "16"}], "}"}]}], "\[IndentingNewLine]", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"ii", ",", "jj"}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868488730017989*^9, 3.868488732158162*^9}, {
  3.868546224754109*^9, 3.868546243414021*^9}, {3.8685665364718*^9, 
  3.868566586409197*^9}, {3.8685670649715014`*^9, 3.868567100759321*^9}, {
  3.86856732269058*^9, 3.868567365816609*^9}, {3.868567515874084*^9, 
  3.8685675175644484`*^9}, {3.8685681753597803`*^9, 3.868568190129402*^9}, {
  3.868633447664815*^9, 3.8686334816529417`*^9}},
 CellLabel->"In[47]:=",ExpressionUUID->"380aa94f-bfae-4a19-9e42-a301c8acd007"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 0, "  ", 0, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868633497988592*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"32b9b684-ce8f-4fa3-9fa8-0a37d36c9208"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 0, "  ", 0, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868633498268474*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"732b5fee-9bc6-42c0-90e3-ba6142961811"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 0, "  ", 0, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868633498660932*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"a6b5659f-fd56-4534-b0a4-d61459c1c064"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 0, "  ", 0, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686334989892483`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"995a8dbd-677b-41a1-8838-a16d6548b506"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 0, "  ", 1, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634636257156*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"d0e4d92c-9098-45a9-b47c-b41d241c8859"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 0, "  ", 1, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634638295444*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"8dff598d-5701-49b3-bc2f-dbf05f7307f4"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 0, "  ", 1, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634640396435*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"627597da-e28c-4745-885e-4635d7ae2355"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 0, "  ", 1, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.86863464249317*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"58176bd0-1dda-4c9d-acb7-2bb08c170c64"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 0, "  ", 2, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634721798691*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"bd31f457-3647-4c45-9650-68a6ef1665e1"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 0, "  ", 2, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634724441152*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"d392320f-f5ce-49bc-aa5e-501c8d7947e6"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 0, "  ", 2, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634727198205*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"360b5d42-271f-450e-ba2c-47b255012256"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 0, "  ", 2, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634729924225*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"4f549ea4-1b6c-42d9-bc34-ee7e8e323d07"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 0, "  ", 3, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686347319967413`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"95e90a3b-015b-4be7-9319-1a518eb6eec7"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 0, "  ", 3, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686347321430283`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"1a8c53a8-62f4-44e6-8eff-b39e587f6325"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 0, "  ", 3, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868634732328714*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"a611ddda-87dd-4c13-910b-f77663b74469"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "0", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 0, "  ", 3, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.86863473263933*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"a6077152-82a3-48af-9937-37e86282b8c5"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 1, "  ", 1, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868636701161771*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"2edfb524-0419-43a0-a7b2-df695f462a73"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 1, "  ", 1, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686367155714684`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"fa993baa-e315-4d32-85d4-ade70994b28f"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 1, "  ", 1, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868636725976104*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"5fea065f-505c-4c33-8ddf-eac5bf43bada"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 1, "  ", 1, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868636736511063*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"33160c2c-9592-4919-9f90-ae1f003ba7d0"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 1, "  ", 2, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686369993051367`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"9f5d8e60-fb0e-46d1-9e67-e9abe17c0ef0"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 1, "  ", 2, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637007791534*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"560c6a51-9d28-4ff1-9c30-c5cc0b0f84b3"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 1, "  ", 2, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686370165383987`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"60f6b9e0-881a-4769-bae7-b9468281af4b"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 1, "  ", 2, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637025266492*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"7a982807-2284-4e92-8852-cb5a4a4b3070"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 1, "  ", 3, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637064991529*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"47d04e75-d4da-4fa8-bd7e-e4d38d911895"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 1, "  ", 3, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637065553302*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"70e7ac18-94e0-48ff-9ffa-743b802e6936"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 1, "  ", 3, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686370661277637`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"6589ee85-cc89-46fb-ad30-5d94bac6462e"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "1", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 1, "  ", 3, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637066709564*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"797bf0f6-fb94-449c-b100-7c54ebe05e7a"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 2, "  ", 2, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637338004406*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"32e6ed2b-dba9-48d4-8217-7d3f5173ae91"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 2, "  ", 2, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637348136175*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"11e99e10-bc04-4034-9205-23150aa2a7a1"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 2, "  ", 2, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637359361504*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"55b550a7-5383-4db6-b47d-b22253256078"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 2, "  ", 2, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686373704052477`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"c4c559d3-0c4d-416d-ad0e-196bfe079aa9"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 2, "  ", 3, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637399911203*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"6cf91037-093c-4af3-8726-769b69c46e62"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 2, "  ", 3, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686374005150557`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"f598cc4c-fd13-4b55-a595-7b7efc20a5b8"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 2, "  ", 3, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637401163024*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"a4cd6d66-acad-44f6-892b-2fffc79373ca"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "2", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 2, "  ", 3, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686374017354116`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"d053becf-5d1c-47b9-bed4-b1f4d904b242"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  t\"\>"}],
  SequenceForm["completed ", 3, "  ", 3, "  t"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637401792286*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"9c1acd89-62d1-4a1e-860d-89272f3e3a84"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  x\"\>"}],
  SequenceForm["completed ", 3, "  ", 3, "  x"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637401850648*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"bee1cdba-1f2e-434b-8d4f-ee227defda60"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  y\"\>"}],
  SequenceForm["completed ", 3, "  ", 3, "  y"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.8686374019177313`*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"33e8282b-e913-4239-9918-48fc1bb71951"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"completed \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  \"\>", "\[InvisibleSpace]", "3", 
   "\[InvisibleSpace]", "\<\"  z\"\>"}],
  SequenceForm["completed ", 3, "  ", 3, "  z"],
  Editable->False]], "Print",
 CellChangeTimes->{3.868626120928834*^9, 3.868637401960984*^9},
 CellLabel->
  "During evaluation of \
In[47]:=",ExpressionUUID->"1312e826-e76a-4b3c-bb68-20359ea14c49"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Coordinate transform codegen", "Title",
 CellChangeTimes->{{3.868631261679698*^9, 
  3.868631266099465*^9}},ExpressionUUID->"2613027a-7433-408c-bdb2-\
bf5ea426ba00"],

Cell[CellGroupData[{

Cell["CSE and codegen utilities", "Section",
 CellChangeTimes->{{3.868439204911605*^9, 
  3.868439214061768*^9}},ExpressionUUID->"f668ea9c-6afc-4ea8-b7a0-\
bbcbd6b16a5f"],

Cell[CellGroupData[{

Cell["CSE", "Subsection",
 CellChangeTimes->{{3.868371468625771*^9, 
  3.868371468976837*^9}},ExpressionUUID->"83a0fd7b-dfc0-4091-8b40-\
d06edf483805"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"stackoverflow", ".", "com"}], "/", "questions"}], "/", 
       "4202845"}], "/", "mathematica"}], "-", "using", "-", "simplify", "-", 
     "to", "-", "do", "-", "common", "-", "sub", "-", "expression", "-", 
     "elimination", "-", "and", "-", "reductio"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"stoney", ".", "sb", ".", "org"}], "/", "wordpress"}], "/", 
      "wp"}], "-", 
     RowBox[{
      RowBox[{"content", "/", "cvt2c"}], "/"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"<<", "cse.m"}]}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"488ff88f-f920-4a54-8584-de8ab1944521"]
}, Closed]],

Cell[CellGroupData[{

Cell["Function body generators", "Subsection",
 CellChangeTimes->{{3.868371881858344*^9, 
  3.868371887049727*^9}},ExpressionUUID->"94f2fb46-fe63-423f-a030-\
5841bc215876"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ruleToString", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ruleToString", "[", 
    RowBox[{"Rule", "[", 
     RowBox[{"a_", ",", "b_"}], "]"}], "]"}], ":=", 
   RowBox[{"\"\<const double \>\"", "<>", 
    RowBox[{"ToString", "[", "b", "]"}], "<>", "\"\< = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{"a", ",", "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "genBody", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genBody", "[", "original_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cse", ",", "resultString"}], "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cse", "=", 
      RowBox[{"hoistCommonSubexpressions", "[", "original", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Do", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"resultString", "=", 
        RowBox[{"resultString", "<>", 
         RowBox[{"ruleToString", "[", 
          RowBox[{"cse", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
         "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", 
          RowBox[{
          "cse", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
          "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", 
      RowBox[{"resultString", "<>", "\"\<\\nreturn \>\"", "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{
         RowBox[{
         "cse", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
         "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "resultString", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.86837155898555*^9, 3.8683716935516977`*^9}, {
  3.868371727293956*^9, 3.868371854258505*^9}, {3.868371911508793*^9, 
  3.868371923878261*^9}, {3.8683741717565947`*^9, 3.868374171865741*^9}, {
  3.868375564066785*^9, 3.86837557886977*^9}, {3.8683975802513723`*^9, 
  3.8683975840237627`*^9}, {3.868401516388443*^9, 3.868401529950522*^9}, {
  3.8684392400919952`*^9, 3.8684392414916477`*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"48006186-ddc4-421b-9eca-302e5908311e"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["String replacement rules", "Section",
 CellChangeTimes->{{3.868439254180686*^9, 3.86843926001075*^9}, 
   3.868463799074551*^9},ExpressionUUID->"ebbe7d79-c843-4c5c-969c-\
d4c9b5f4e622"],

Cell[CellGroupData[{

Cell["Capitalization", "Subsection",
 CellChangeTimes->{{3.868439493907201*^9, 
  3.868439496307272*^9}},ExpressionUUID->"e17d89aa-44fa-472f-b154-\
9e1b16f8cec0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "capitalizationRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"capitalizationRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Sqrt\>\"", "\[Rule]", "\"\<sqrt\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Power\>\"", "\[Rule]", "\"\<pow\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868316105323255*^9, 3.868316157929685*^9}, {
   3.868316230109397*^9, 3.868316306948285*^9}, {3.86831634177719*^9, 
   3.86831635056705*^9}, {3.868316425275738*^9, 3.868316537946056*^9}, {
   3.868316591092558*^9, 3.868316597142627*^9}, {3.8683166621718187`*^9, 
   3.8683166908708763`*^9}, {3.868371896499003*^9, 3.8683719011111813`*^9}, {
   3.868375787792369*^9, 3.86837583159341*^9}, {3.868381925961285*^9, 
   3.868381934913391*^9}, {3.8683968959356737`*^9, 3.8683970125234003`*^9}, {
   3.8684004316580677`*^9, 3.868400458276379*^9}, {3.868400961138571*^9, 
   3.868400962018216*^9}, {3.8684011791176558`*^9, 3.868401187714568*^9}, {
   3.868401291792986*^9, 3.868401466970656*^9}, {3.868401504491877*^9, 
   3.8684015112202682`*^9}, 3.868439343095846*^9},
 CellLabel->"In[6]:=",ExpressionUUID->"701cff3b-b4c1-47a3-999f-c829079a9d51"]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory", "Subsection",
 CellChangeTimes->{{3.8684844615092793`*^9, 
  3.868484465568892*^9}},ExpressionUUID->"4758aa4e-6ced-4357-a571-\
83427046fdc0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "trajectoryRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trajectoryRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<s(bhIdx,1,t)\>\"", "\[Rule]", "\"\<sx(bhIdx,t)\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<s(bhIdx,2,t)\>\"", "\[Rule]", "\"\<sy(bhIdx,t)\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868484474842311*^9, 3.868484505457848*^9}, {
  3.868484566826496*^9, 3.868484616554707*^9}, {3.8686317904414253`*^9, 
  3.8686318145414352`*^9}},
 CellLabel->"In[8]:=",ExpressionUUID->"41f7d5da-6dec-45b5-8b62-12b371cfd3ca"]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory derivative rules", "Subsection",
 CellChangeTimes->{{3.8684846680229*^9, 
  3.8684846728027983`*^9}},ExpressionUUID->"d0d4954d-ac56-4f6a-9ab9-\
3ff4ffdbf4e1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "trajectoryDerivRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"trajectoryDerivRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(bhIdx,1,t)\>\"", "\[Rule]", 
      "\"\<dsx_dt(bhIdx,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,1)(s)(bhIdx,2,t)\>\"", "\[Rule]", 
      "\"\<dsy_dt(bhIdx,t)\>\""}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(bhIdx,1,t)\>\"", "\[Rule]", 
      "\"\<d2sx_dt2(bhIdx,t)\>\""}], ",", "\[IndentingNewLine]", 
     RowBox[{
     "\"\<Derivative(0,0,2)(s)(bhIdx,2,t)\>\"", "\[Rule]", 
      "\"\<d2sy_dt2(bhIdx,t)\>\""}]}], "\[IndentingNewLine]", "}"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.8684846813733253`*^9, 3.8684847247217607`*^9}, {
  3.868485354925947*^9, 3.868485371446154*^9}, {3.868547438372093*^9, 
  3.868547457021862*^9}, {3.868631831951679*^9, 3.868631864719556*^9}, {
  3.868631913449582*^9, 3.8686319238989353`*^9}},
 CellLabel->"In[10]:=",ExpressionUUID->"148f2b49-15b0-4f84-8948-7a346de5f488"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory Parameters", "Section",
 CellChangeTimes->{{3.861117175300764*^9, 3.861117176651064*^9}, {
  3.868312539238172*^9, 
  3.868312540807959*^9}},ExpressionUUID->"c4e27016-b044-4cd1-8fe5-\
997e9d271404"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"v", ",", "v2"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "1"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"s", "[", 
       RowBox[{"bhIdx", ",", "1", ",", "t"}], "]"}], ",", "t"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "2"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"s", "[", 
       RowBox[{"bhIdx", ",", "2", ",", "t"}], "]"}], ",", "t"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "[", 
    RowBox[{"bhIdx_", ",", "3"}], "]"}], "=", "0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"v2", "[", "bhIdx_", "]"}], "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "1"}], "]"}], "^", "2"}], "+", 
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "2"}], "]"}], "^", "2"}], "+", 
      RowBox[{
       RowBox[{"v", "[", 
        RowBox[{"bhIdx", ",", "3"}], "]"}], "^", "2"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "n", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "[", 
    RowBox[{"bhIdx_", ",", "1"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"v", "[", 
      RowBox[{"bhIdx", ",", "1"}], "]"}], "/", 
     SqrtBox[
      RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"n", "[", 
    RowBox[{"bhIdx_", ",", "2"}], "]"}], "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"v", "[", 
      RowBox[{"bhIdx", ",", "2"}], "]"}], "/", 
     SqrtBox[
      RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"n", "[", 
     RowBox[{"bhIdx_", ",", "3"}], "]"}], "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{
      RowBox[{"v", "[", 
       RowBox[{"bhIdx", ",", "3"}], "]"}], "/", 
      SqrtBox[
       RowBox[{"v2", "[", "bhIdx", "]"}]]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "\[Gamma]", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Gamma]", "=", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     FractionBox["1", 
      SqrtBox[
       RowBox[{"1", "-", 
        RowBox[{"v2", "[", "bhIdx", "]"}]}]]], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"b", ">", "0"}], ",", 
       RowBox[{"M1", ">", "0"}], ",", 
       RowBox[{"M2", ">", "0"}]}], "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.865524415966897*^9, 3.86552450094634*^9}, {
   3.865524535705659*^9, 3.865524577444357*^9}, {3.8655246263548803`*^9, 
   3.8655247221620207`*^9}, {3.8655247587139597`*^9, 3.865524763002427*^9}, {
   3.865524836472784*^9, 3.865524854740614*^9}, {3.8655257699381237`*^9, 
   3.865525797397901*^9}, {3.865525836069531*^9, 3.865525920534947*^9}, {
   3.8655259535456867`*^9, 3.8655260364731073`*^9}, {3.8655261499617853`*^9, 
   3.8655262074301443`*^9}, {3.865526268380827*^9, 3.865526340467456*^9}, {
   3.8656428148073187`*^9, 3.865643058742819*^9}, {3.866726555357901*^9, 
   3.8667266368467607`*^9}, {3.86673043501088*^9, 3.866730505437317*^9}, {
   3.8667305850387707`*^9, 3.866730707203352*^9}, {3.86680872129394*^9, 
   3.866808748958291*^9}, {3.866810261959326*^9, 3.8668102701881647`*^9}, {
   3.866812240482986*^9, 3.866812249263751*^9}, 3.866812591336658*^9, {
   3.866817670121509*^9, 3.8668177369491367`*^9}, {3.866820373073388*^9, 
   3.866820388151572*^9}, 3.866820479590761*^9, {3.8668367698413067`*^9, 
   3.866836824467847*^9}, {3.866838253643696*^9, 3.866838258861363*^9}, {
   3.8668433938138447`*^9, 3.86684343260563*^9}, {3.866843566561852*^9, 
   3.8668436077288733`*^9}, {3.866843639518705*^9, 3.866843640959424*^9}, {
   3.8668461263282957`*^9, 3.866846131606632*^9}, {3.8681135914439793`*^9, 
   3.8681136278999453`*^9}, {3.868128508421637*^9, 3.868128528141382*^9}, {
   3.8683123424645777`*^9, 3.868312365057095*^9}, {3.8683123985045147`*^9, 
   3.868312403733046*^9}, {3.868312519773333*^9, 3.8683125321105328`*^9}, {
   3.868482449212385*^9, 3.868482450281295*^9}, {3.868484256585382*^9, 
   3.8684842574242764`*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"38ace2f9-1089-423a-8623-e2ca8ddadbf3"]
}, Closed]],

Cell[CellGroupData[{

Cell["Coordinate transforms", "Section",
 CellChangeTimes->{{3.868546049697381*^9, 
  3.868546053757155*^9}},ExpressionUUID->"100a3ab6-5c02-481c-8d87-\
4c76e42940f5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"eqt", ",", "eqx", ",", "eqy", ",", "eqz"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqt", "[", "bhIdx_", "]"}], "=", 
   RowBox[{"\[Gamma]", 
    RowBox[{"(", 
     RowBox[{"T", "-", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "1"}], "]"}], "X"}], "+", 
        RowBox[{
         RowBox[{"v", "[", 
          RowBox[{"bhIdx", ",", "2"}], "]"}], "Y"}]}], ")"}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqx", "[", "bhIdx_", "]"}], "=", 
   RowBox[{
    RowBox[{"s", "[", 
     RowBox[{"bhIdx", ",", "1", ",", "t"}], "]"}], "+", 
    RowBox[{"X", 
     RowBox[{"(", 
      RowBox[{"1", "+", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
        RowBox[{"n", "[", 
         RowBox[{"bhIdx", ",", "1"}], "]"}], 
        RowBox[{"n", "[", 
         RowBox[{"bhIdx", ",", "1"}], "]"}]}]}], ")"}]}], "+", 
    RowBox[{"Y", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
       RowBox[{"n", "[", 
        RowBox[{"bhIdx", ",", "1"}], "]"}], 
       RowBox[{"n", "[", 
        RowBox[{"bhIdx", ",", "2"}], "]"}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqy", "[", "bhIdx_", "]"}], "=", 
   RowBox[{
    RowBox[{"s", "[", 
     RowBox[{"bhIdx", ",", "2", ",", "t"}], "]"}], "+", 
    RowBox[{"X", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
       RowBox[{"n", "[", 
        RowBox[{"bhIdx", ",", "1"}], "]"}], 
       RowBox[{"n", "[", 
        RowBox[{"bhIdx", ",", "2"}], "]"}]}], ")"}]}], "+", 
    RowBox[{"Y", 
     RowBox[{"(", 
      RowBox[{"1", "+", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"\[Gamma]", "-", "1"}], ")"}], 
        RowBox[{"n", "[", 
         RowBox[{"bhIdx", ",", "2"}], "]"}], 
        RowBox[{"n", "[", 
         RowBox[{"bhIdx", ",", "2"}], "]"}]}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"eqz", "[", "bhIdx_", "]"}], "=", "Z"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "local2GlobalSystem", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"local2GlobalSystem", "=", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"eqt", "[", "bhIdx", "]"}], "\[Equal]", "t"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"eqx", "[", "bhIdx", "]"}], "\[Equal]", "x"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"eqy", "[", "bhIdx", "]"}], "\[Equal]", "y"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"eqz", "[", "bhIdx", "]"}], "\[Equal]", "z"}]}], 
     "\[IndentingNewLine]", "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "sol", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sol", "=", 
    RowBox[{"FullSimplify", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{"Solve", "[", 
       RowBox[{"local2GlobalSystem", ",", 
        RowBox[{"{", 
         RowBox[{"T", ",", "X", ",", "Y", ",", "Z"}], "}"}]}], "]"}], "]"}], 
     "]"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"eqT", ",", "eqX", ",", "eqY", ",", "eqZ"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqT", "[", "bhIdx_", "]"}], "=", 
   RowBox[{"T", "/.", "sol"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqX", "[", "bhIdx_", "]"}], "=", 
   RowBox[{"X", "/.", "sol"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"eqY", "[", "bhIdx_", "]"}], "=", 
   RowBox[{"Y", "/.", "sol"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"eqZ", "[", "bhIdx_", "]"}], "=", 
    RowBox[{"Z", "/.", "sol"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "sol", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.865299976585465*^9, 3.865300017205639*^9}, {
   3.8653492483392763`*^9, 3.8653493228681307`*^9}, {3.8653493562462263`*^9, 
   3.8653495836594543`*^9}, {3.865349827306582*^9, 3.865349839426065*^9}, {
   3.8653498984012337`*^9, 3.865349967746372*^9}, {3.865350020486751*^9, 
   3.865350124581048*^9}, {3.865350185700589*^9, 3.865350200067225*^9}, {
   3.865350280255459*^9, 3.865350290537489*^9}, {3.865350325676355*^9, 
   3.865350404439519*^9}, {3.865350464887374*^9, 3.865350485566453*^9}, {
   3.865350571483802*^9, 3.8653505734259243`*^9}, {3.865350767365425*^9, 
   3.865350776574891*^9}, {3.8653508180138702`*^9, 3.865350818533597*^9}, {
   3.865351632405773*^9, 3.865351658834552*^9}, {3.8653517689428883`*^9, 
   3.865351818343164*^9}, {3.8654357502805367`*^9, 3.865435831398437*^9}, {
   3.865435984237856*^9, 3.8654360066128597`*^9}, {3.86543608253216*^9, 
   3.865436083292273*^9}, {3.865436118820344*^9, 3.865436151409917*^9}, {
   3.865468849728928*^9, 3.8654688531684837`*^9}, 3.865468925443646*^9, {
   3.865469671121582*^9, 3.86546977335218*^9}, {3.8654699052163973`*^9, 
   3.865469929688798*^9}, {3.865643516684636*^9, 3.865643653722386*^9}, {
   3.8656437272633333`*^9, 3.865643729589697*^9}, {3.86564381601982*^9, 
   3.865643863580852*^9}, {3.865646503729681*^9, 3.865646508526821*^9}, {
   3.866727106570796*^9, 3.866727108508498*^9}, {3.8667272014373293`*^9, 
   3.8667272170467052`*^9}, {3.866727363647483*^9, 3.866727366533828*^9}, {
   3.866728896058042*^9, 3.866728898485364*^9}, {3.866729209470235*^9, 
   3.8667292164288588`*^9}, {3.866730973176065*^9, 3.866730975824747*^9}, {
   3.866810289768015*^9, 3.866810294767694*^9}, {3.866812111968011*^9, 
   3.866812153966011*^9}, {3.866812637965616*^9, 3.8668126733039837`*^9}, {
   3.866814062094861*^9, 3.8668140642231903`*^9}, {3.866815096465145*^9, 
   3.866815103523384*^9}, {3.866815360090708*^9, 3.8668153625587673`*^9}, 
   3.866816095832706*^9, 3.866816147809741*^9, {3.866816414436214*^9, 
   3.8668164163031263`*^9}, {3.86681644669318*^9, 3.866816525680863*^9}, {
   3.866817474275814*^9, 3.866817492132806*^9}, {3.866817651532805*^9, 
   3.866817659330521*^9}, 3.866838269351281*^9, {3.866838603440456*^9, 
   3.866838604870344*^9}, {3.866838893788433*^9, 3.866838906907638*^9}, {
   3.866839643322075*^9, 3.866839646530057*^9}, {3.8668439064829407`*^9, 
   3.8668439389105797`*^9}, {3.866844043622143*^9, 3.8668440453786488`*^9}, {
   3.8668462907438087`*^9, 3.866846293112444*^9}, {3.868482399551818*^9, 
   3.868482404330986*^9}, {3.8684833564193983`*^9, 3.868483358159033*^9}, {
   3.8685460755288754`*^9, 3.86854607676686*^9}},
 CellLabel->"In[23]:=",ExpressionUUID->"4ba86ddc-0e5f-44ae-98ec-40b6da900085"]
}, Closed]],

Cell[CellGroupData[{

Cell["Coordinate transformations codegen", "Section",
 CellChangeTimes->{{3.868484318022434*^9, 3.868484318712276*^9}, {
  3.8684882430264673`*^9, 3.868488249646393*^9}, {3.86863136330795*^9, 
  3.8686313666776953`*^9}},ExpressionUUID->"a94e94eb-0ea3-400a-8b3e-\
32ebab0fbf6a"],

Cell[CellGroupData[{

Cell["Genereting function", "Subsection",
 CellChangeTimes->{{3.868488255176363*^9, 
  3.868488258736332*^9}},ExpressionUUID->"3de864e7-e5ff-45d1-88cf-\
5956f307e41d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "genCoordTransf", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"genCoordTransf", "[", 
    RowBox[{"ct_", ",", "strname_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"str", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"str", "=", 
       RowBox[{
       "\"\<#include \\\"SKS.hpp\\\"\n\nauto grlensing::SKS::\>\"", "<>", 
        "strname", "<>", 
        "\"\<(unsigned bhIdx, double t, double x, double y, double z) const \
noexcept -> double {\n\n  using std::sqrt;\n  using std::pow;\n\n\>\""}]}], 
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"str", "<>", 
        RowBox[{"genBody", "[", 
         RowBox[{"FullSimplify", "[", "ct", "]"}], "]"}], "<>", 
        "\"\<\\n}\>\""}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "trajectoryRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "trajectoryDerivRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"name", "=", 
       RowBox[{"strname", "<>", "\"\<.cpp\>\""}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{"name", ",", "str", ",", "\"\<Text\>\""}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{"\"\<clang-format -i \>\"", "<>", "name"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{
       "\"\<mv \>\"", "<>", "name", "<>", 
        "\"\< ../../plugins/metrics/SKS/source\>\""}], "]"}], ";"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868485487506357*^9, 3.868485550601577*^9}, {
   3.868485586682437*^9, 3.868485742458243*^9}, {3.868485786287992*^9, 
   3.8684858184171*^9}, {3.8684865533323402`*^9, 3.868486558330749*^9}, {
   3.868486657270918*^9, 3.868486659599221*^9}, {3.868486816737585*^9, 
   3.868486820465933*^9}, {3.868486864946609*^9, 3.868487022533046*^9}, {
   3.8684871660206413`*^9, 3.8684871731599617`*^9}, 3.86848735602656*^9, {
   3.868487504524808*^9, 3.868487536872937*^9}, {3.8684875679225883`*^9, 
   3.868487571291821*^9}, {3.8684876490015697`*^9, 3.868487659130623*^9}, {
   3.868487689220093*^9, 3.868487815197607*^9}, {3.868487883016389*^9, 
   3.868487885775139*^9}, {3.868487932365218*^9, 3.8684879349141617`*^9}, {
   3.868488538482785*^9, 3.8684886254810534`*^9}, {3.868488699310775*^9, 
   3.868488714290896*^9}, {3.868488780050754*^9, 3.8684887848393297`*^9}, {
   3.868546471341316*^9, 3.868546478301269*^9}, {3.8685660990474777`*^9, 
   3.86856610773669*^9}, {3.86856621220612*^9, 3.8685662144978456`*^9}, {
   3.868631404718335*^9, 3.868631414541198*^9}, {3.868631531936882*^9, 
   3.868631741732997*^9}, {3.8686319694786367`*^9, 3.868631982217166*^9}},
 CellLabel->"In[45]:=",ExpressionUUID->"c50f8038-9720-426e-9a0b-bb7fd791994f"]
}, Closed]],

Cell[CellGroupData[{

Cell["Generation calls", "Subsection",
 CellChangeTimes->{{3.868488264276366*^9, 
  3.868488268196279*^9}},ExpressionUUID->"391b9541-a0ac-4e2d-aea5-\
ff9baea81be9"],

Cell[BoxData[{
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"eqT", "[", "bhIdx", "]"}], ",", "\"\<T\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"eqX", "[", "bhIdx", "]"}], ",", "\"\<X\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"eqY", "[", "bhIdx", "]"}], ",", "\"\<Y\>\""}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"eqZ", "[", "bhIdx", "]"}], ",", "\"\<Z\>\""}], "]"}]}], "Input",
 CellChangeTimes->{{3.8686317095423822`*^9, 3.868631713372295*^9}, {
  3.868631757631897*^9, 3.8686317593011217`*^9}, {3.868631941518652*^9, 
  3.868631952197554*^9}},
 CellLabel->"In[47]:=",ExpressionUUID->"7c2f0bad-e804-47e6-b71d-cccaa4e70058"],

Cell[BoxData[{
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqT", "[", "bhIdx", "]"}], ",", "t"}], "]"}], ",", 
   "\"\<dT_dt\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqT", "[", "bhIdx", "]"}], ",", "x"}], "]"}], ",", 
   "\"\<dT_dx\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqT", "[", "bhIdx", "]"}], ",", "y"}], "]"}], ",", 
   "\"\<dT_dy\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genCoordTransf", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"eqT", "[", "bhIdx", "]"}], ",", "z"}], "]"}], ",", 
    "\"\<dT_dz\>\""}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqX", "[", "bhIdx", "]"}], ",", "t"}], "]"}], ",", 
   "\"\<dX_dt\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqX", "[", "bhIdx", "]"}], ",", "x"}], "]"}], ",", 
   "\"\<dX_dx\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqX", "[", "bhIdx", "]"}], ",", "y"}], "]"}], ",", 
   "\"\<dX_dy\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genCoordTransf", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"eqX", "[", "bhIdx", "]"}], ",", "z"}], "]"}], ",", 
    "\"\<dX_dz\>\""}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqY", "[", "bhIdx", "]"}], ",", "t"}], "]"}], ",", 
   "\"\<dY_dt\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqY", "[", "bhIdx", "]"}], ",", "x"}], "]"}], ",", 
   "\"\<dY_dx\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqY", "[", "bhIdx", "]"}], ",", "y"}], "]"}], ",", 
   "\"\<dY_dy\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genCoordTransf", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"eqY", "[", "bhIdx", "]"}], ",", "z"}], "]"}], ",", 
    "\"\<dY_dz\>\""}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqZ", "[", "bhIdx", "]"}], ",", "t"}], "]"}], ",", 
   "\"\<dZ_dt\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqZ", "[", "bhIdx", "]"}], ",", "x"}], "]"}], ",", 
   "\"\<dZ_dx\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqZ", "[", "bhIdx", "]"}], ",", "y"}], "]"}], ",", 
   "\"\<dZ_dy\>\""}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"genCoordTransf", "[", 
  RowBox[{
   RowBox[{"D", "[", 
    RowBox[{
     RowBox[{"eqZ", "[", "bhIdx", "]"}], ",", "z"}], "]"}], ",", 
   "\"\<dZ_dz\>\""}], "]"}]}], "Input",
 CellChangeTimes->{{3.868632063874549*^9, 3.8686321590221252`*^9}},
 CellLabel->"In[68]:=",ExpressionUUID->"43f961b1-34a1-4f48-962f-70e72816b134"]
}, Closed]]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory codegen", "Title",
 CellChangeTimes->{{3.868631261679698*^9, 3.868631266099465*^9}, {
  3.8686323356377153`*^9, 
  3.868632337007392*^9}},ExpressionUUID->"05b4336b-849d-4472-ad96-\
bf9f8b1405ea"],

Cell[CellGroupData[{

Cell["CSE and codegen utilities", "Section",
 CellChangeTimes->{{3.868439204911605*^9, 
  3.868439214061768*^9}},ExpressionUUID->"288ea30b-31db-4167-afe9-\
3f84a5b1280f"],

Cell[CellGroupData[{

Cell["CSE", "Subsection",
 CellChangeTimes->{{3.868371468625771*^9, 
  3.868371468976837*^9}},ExpressionUUID->"6fdb90ef-7289-4087-9288-\
b0a06593738d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"stackoverflow", ".", "com"}], "/", "questions"}], "/", 
       "4202845"}], "/", "mathematica"}], "-", "using", "-", "simplify", "-", 
     "to", "-", "do", "-", "common", "-", "sub", "-", "expression", "-", 
     "elimination", "-", "and", "-", "reductio"}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"https", ":"}], "//", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"stoney", ".", "sb", ".", "org"}], "/", "wordpress"}], "/", 
      "wp"}], "-", 
     RowBox[{
      RowBox[{"content", "/", "cvt2c"}], "/"}]}]}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"<<", "cse.m"}]}]], "Input",
 CellLabel->"In[1]:=",ExpressionUUID->"b204f3c9-7645-4f47-acba-18ac09552ed7"]
}, Closed]],

Cell[CellGroupData[{

Cell["Function body generators", "Subsection",
 CellChangeTimes->{{3.868371881858344*^9, 
  3.868371887049727*^9}},ExpressionUUID->"81bb910d-6f1e-493a-9d56-\
3bca41a34064"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "ruleToString", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ruleToString", "[", 
    RowBox[{"Rule", "[", 
     RowBox[{"a_", ",", "b_"}], "]"}], "]"}], ":=", 
   RowBox[{"\"\<const double \>\"", "<>", 
    RowBox[{"ToString", "[", "b", "]"}], "<>", "\"\< = \>\"", "<>", 
    RowBox[{"ToString", "[", 
     RowBox[{"a", ",", "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAll", "[", "genBody", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genBody", "[", "original_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cse", ",", "resultString"}], "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cse", "=", 
      RowBox[{"hoistCommonSubexpressions", "[", "original", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", "\"\<\>\""}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Do", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"resultString", "=", 
        RowBox[{"resultString", "<>", 
         RowBox[{"ruleToString", "[", 
          RowBox[{"cse", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", "i"}], "\[RightDoubleBracket]"}], "]"}], "<>", 
         "\"\<\\n\>\""}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"i", ",", "1", ",", 
         RowBox[{"Length", "[", 
          RowBox[{
          "cse", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
          "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"resultString", "=", 
      RowBox[{"resultString", "<>", "\"\<\\nreturn \>\"", "<>", 
       RowBox[{"ToString", "[", 
        RowBox[{
         RowBox[{
         "cse", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",", 
         "CForm"}], "]"}], "<>", "\"\<;\>\""}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Return", "[", "resultString", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.86837155898555*^9, 3.8683716935516977`*^9}, {
  3.868371727293956*^9, 3.868371854258505*^9}, {3.868371911508793*^9, 
  3.868371923878261*^9}, {3.8683741717565947`*^9, 3.868374171865741*^9}, {
  3.868375564066785*^9, 3.86837557886977*^9}, {3.8683975802513723`*^9, 
  3.8683975840237627`*^9}, {3.868401516388443*^9, 3.868401529950522*^9}, {
  3.8684392400919952`*^9, 3.8684392414916477`*^9}},
 CellLabel->"In[2]:=",ExpressionUUID->"0d806c30-0549-4dd9-b9ed-fed2dab016c1"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["String replacement rules", "Section",
 CellChangeTimes->{{3.868439254180686*^9, 3.86843926001075*^9}, 
   3.868463799074551*^9},ExpressionUUID->"33358932-03b5-4a3f-b776-\
6e81a978a301"],

Cell[CellGroupData[{

Cell["Capitalization", "Subsection",
 CellChangeTimes->{{3.868439493907201*^9, 
  3.868439496307272*^9}},ExpressionUUID->"ed29b3ba-66b2-4edd-b146-\
6a20c4b2b9cd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "capitalizationRules", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"capitalizationRules", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Sqrt\>\"", "\[Rule]", "\"\<sqrt\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Power\>\"", "\[Rule]", "\"\<pow\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Cos\>\"", "\[Rule]", "\"\<cos\>\""}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Sin\>\"", "\[Rule]", "\"\<sin\>\""}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868316105323255*^9, 3.868316157929685*^9}, {
   3.868316230109397*^9, 3.868316306948285*^9}, {3.86831634177719*^9, 
   3.86831635056705*^9}, {3.868316425275738*^9, 3.868316537946056*^9}, {
   3.868316591092558*^9, 3.868316597142627*^9}, {3.8683166621718187`*^9, 
   3.8683166908708763`*^9}, {3.868371896499003*^9, 3.8683719011111813`*^9}, {
   3.868375787792369*^9, 3.86837583159341*^9}, {3.868381925961285*^9, 
   3.868381934913391*^9}, {3.8683968959356737`*^9, 3.8683970125234003`*^9}, {
   3.8684004316580677`*^9, 3.868400458276379*^9}, {3.868400961138571*^9, 
   3.868400962018216*^9}, {3.8684011791176558`*^9, 3.868401187714568*^9}, {
   3.868401291792986*^9, 3.868401466970656*^9}, {3.868401504491877*^9, 
   3.8684015112202682`*^9}, 3.868439343095846*^9, {3.868632537713724*^9, 
   3.8686325485131283`*^9}},
 CellLabel->"In[6]:=",ExpressionUUID->"ed701c46-7d89-4cfb-ab0d-73ca4bd5b7be"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Trajectory", "Section",
 CellChangeTimes->{{3.861117175300764*^9, 3.861117176651064*^9}, {
  3.868312539238172*^9, 3.868312540807959*^9}, {3.868632350696508*^9, 
  3.8686323512665653`*^9}},ExpressionUUID->"6d505258-fcd1-46c2-8e81-\
9907bd72073d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", 
   RowBox[{"\[CapitalOmega]", ",", "sx", ",", "sy"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[CapitalOmega]", "=", 
   SqrtBox[
    FractionBox[
     RowBox[{"M1", "+", "M2"}], 
     SuperscriptBox["b", "3"]]]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sx", "[", 
    RowBox[{"bhIdx_", ",", "t_"}], "]"}], ":=", 
   RowBox[{
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{"-", "1"}], ")"}], 
     RowBox[{"bhIdx", "+", "1"}]], 
    FractionBox["b", "2"], 
    RowBox[{"Cos", "[", 
     RowBox[{"\[CapitalOmega]", "*", "t"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"sy", "[", 
    RowBox[{"bhIdx_", ",", "t_"}], "]"}], ":=", 
   RowBox[{
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{"-", "1"}], ")"}], 
     RowBox[{"bhIdx", "+", "1"}]], 
    FractionBox["b", "2"], 
    RowBox[{"Sin", "[", 
     RowBox[{"\[CapitalOmega]", "*", "t"}], "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.865524415966897*^9, 3.86552450094634*^9}, {
   3.865524535705659*^9, 3.865524577444357*^9}, {3.8655246263548803`*^9, 
   3.8655247221620207`*^9}, {3.8655247587139597`*^9, 3.865524763002427*^9}, {
   3.865524836472784*^9, 3.865524854740614*^9}, {3.8655257699381237`*^9, 
   3.865525797397901*^9}, {3.865525836069531*^9, 3.865525920534947*^9}, {
   3.8655259535456867`*^9, 3.8655260364731073`*^9}, {3.8655261499617853`*^9, 
   3.8655262074301443`*^9}, {3.865526268380827*^9, 3.865526340467456*^9}, {
   3.8656428148073187`*^9, 3.865643058742819*^9}, {3.866726555357901*^9, 
   3.8667266368467607`*^9}, {3.86673043501088*^9, 3.866730505437317*^9}, {
   3.8667305850387707`*^9, 3.866730707203352*^9}, {3.86680872129394*^9, 
   3.866808748958291*^9}, {3.866810261959326*^9, 3.8668102701881647`*^9}, {
   3.866812240482986*^9, 3.866812249263751*^9}, 3.866812591336658*^9, {
   3.866817670121509*^9, 3.8668177369491367`*^9}, {3.866820373073388*^9, 
   3.866820388151572*^9}, 3.866820479590761*^9, {3.8668367698413067`*^9, 
   3.866836824467847*^9}, {3.866838253643696*^9, 3.866838258861363*^9}, {
   3.8668433938138447`*^9, 3.86684343260563*^9}, {3.866843566561852*^9, 
   3.8668436077288733`*^9}, {3.866843639518705*^9, 3.866843640959424*^9}, {
   3.8668461263282957`*^9, 3.866846131606632*^9}, {3.8681135914439793`*^9, 
   3.8681136278999453`*^9}, {3.868128508421637*^9, 3.868128528141382*^9}, {
   3.8683123424645777`*^9, 3.868312365057095*^9}, {3.8683123985045147`*^9, 
   3.868312403733046*^9}, {3.868312519773333*^9, 3.8683125321105328`*^9}, {
   3.868482449212385*^9, 3.868482450281295*^9}, {3.868484256585382*^9, 
   3.8684842574242764`*^9}, {3.868632354987523*^9, 3.868632423285839*^9}},
 CellLabel->"In[8]:=",ExpressionUUID->"24bfb616-b6f9-45e2-a134-fa8bf0369bf8"]
}, Closed]],

Cell[CellGroupData[{

Cell["Coordinate transformations codegen", "Section",
 CellChangeTimes->{{3.868484318022434*^9, 3.868484318712276*^9}, {
  3.8684882430264673`*^9, 3.868488249646393*^9}, {3.86863136330795*^9, 
  3.8686313666776953`*^9}},ExpressionUUID->"6f16d359-969c-41f9-a795-\
5dd3c0c2a36c"],

Cell[CellGroupData[{

Cell["Genereting function", "Subsection",
 CellChangeTimes->{{3.868488255176363*^9, 
  3.868488258736332*^9}},ExpressionUUID->"1a638307-d4b5-403c-8ca0-\
e7147fa89e64"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "genTrajectory", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"genTrajectory", "[", 
    RowBox[{"traj_", ",", "strname_"}], "]"}], ":=", 
   RowBox[{"Module", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"str", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"str", "=", 
       RowBox[{
       "\"\<#include \\\"SKS.hpp\\\"\n\nauto grlensing::SKS::\>\"", "<>", 
        "strname", "<>", 
        "\"\<(unsigned bhIdx, double t) const noexcept -> double {\n\n  using \
std::sin;\n  using std::pow;\n  using std::sqrt;\n  using std::cos;\n\n\
\>\""}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"str", "<>", 
        RowBox[{"genBody", "[", 
         RowBox[{"FullSimplify", "[", "traj", "]"}], "]"}], "<>", 
        "\"\<\\n}\>\""}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"str", "=", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"str", ",", "capitalizationRules"}], "]"}]}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"name", "=", 
       RowBox[{"strname", "<>", "\"\<.cpp\>\""}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Export", "[", 
       RowBox[{"name", ",", "str", ",", "\"\<Text\>\""}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{"\"\<clang-format -i \>\"", "<>", "name"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Run", "[", 
       RowBox[{
       "\"\<mv \>\"", "<>", "name", "<>", 
        "\"\< ../../plugins/metrics/SKS/source\>\""}], "]"}], ";"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.868485487506357*^9, 3.868485550601577*^9}, {
   3.868485586682437*^9, 3.868485742458243*^9}, {3.868485786287992*^9, 
   3.8684858184171*^9}, {3.8684865533323402`*^9, 3.868486558330749*^9}, {
   3.868486657270918*^9, 3.868486659599221*^9}, {3.868486816737585*^9, 
   3.868486820465933*^9}, {3.868486864946609*^9, 3.868487022533046*^9}, {
   3.8684871660206413`*^9, 3.8684871731599617`*^9}, 3.86848735602656*^9, {
   3.868487504524808*^9, 3.868487536872937*^9}, {3.8684875679225883`*^9, 
   3.868487571291821*^9}, {3.8684876490015697`*^9, 3.868487659130623*^9}, {
   3.868487689220093*^9, 3.868487815197607*^9}, {3.868487883016389*^9, 
   3.868487885775139*^9}, {3.868487932365218*^9, 3.8684879349141617`*^9}, {
   3.868488538482785*^9, 3.8684886254810534`*^9}, {3.868488699310775*^9, 
   3.868488714290896*^9}, {3.868488780050754*^9, 3.8684887848393297`*^9}, {
   3.868546471341316*^9, 3.868546478301269*^9}, {3.8685660990474777`*^9, 
   3.86856610773669*^9}, {3.86856621220612*^9, 3.8685662144978456`*^9}, {
   3.868631404718335*^9, 3.868631414541198*^9}, {3.868631531936882*^9, 
   3.868631741732997*^9}, {3.8686319694786367`*^9, 3.868631982217166*^9}, {
   3.868632448137203*^9, 3.8686324886446657`*^9}, {3.86863267654108*^9, 
   3.868632684570106*^9}},
 CellLabel->"In[12]:=",ExpressionUUID->"0244c3a6-0759-4697-8848-50398ef8d1aa"]
}, Closed]],

Cell[CellGroupData[{

Cell["Generation calls", "Subsection",
 CellChangeTimes->{{3.868488264276366*^9, 
  3.868488268196279*^9}},ExpressionUUID->"ea4f81cf-fd4d-4208-9015-\
cc3120bf542b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"sx", "[", 
     RowBox[{"bhIdx", ",", "t"}], "]"}], ",", "\"\<sx\>\""}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"sy", "[", 
     RowBox[{"bhIdx", ",", "t"}], "]"}], ",", "\"\<sy\>\""}], "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.8686317095423822`*^9, 3.868631713372295*^9}, {
  3.868631757631897*^9, 3.8686317593011217`*^9}, {3.868631941518652*^9, 
  3.868631952197554*^9}, {3.868632499928937*^9, 3.868632509732833*^9}, {
  3.8686325928924093`*^9, 3.868632613160556*^9}},
 CellLabel->"In[14]:=",ExpressionUUID->"09a6876b-24ea-46af-b33c-af577e1c7856"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"sx", "[", 
       RowBox[{"bhIdx", ",", "t"}], "]"}], ",", "t"}], "]"}], ",", 
    "\"\<dsx_dt\>\""}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"sy", "[", 
       RowBox[{"bhIdx", ",", "t"}], "]"}], ",", "t"}], "]"}], ",", 
    "\"\<dsy_dt\>\""}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868632601401589*^9, 3.868632626000415*^9}},
 CellLabel->"In[16]:=",ExpressionUUID->"885247e7-84a2-4d12-80f0-b0dec57eb4f7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"sx", "[", 
       RowBox[{"bhIdx", ",", "t"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"t", ",", "2"}], "}"}]}], "]"}], ",", "\"\<d2sx_dt2\>\""}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genTrajectory", "[", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{
      RowBox[{"sy", "[", 
       RowBox[{"bhIdx", ",", "t"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"t", ",", "2"}], "}"}]}], "]"}], ",", "\"\<d2sy_dt2\>\""}], 
   "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.868632693109661*^9, 3.8686327024395313`*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"5e220a8a-9254-4d70-98d7-3006387616de"]
}, Closed]]
}, Closed]]
}, Closed]]
},
WindowSize->{1502.608695652174, 788.0869565217392},
WindowMargins->{{1502.608695652174, Automatic}, {
  Automatic, 22.945054945054945`}},
PrintingCopies->1,
PrintingPageRange->{1, Automatic},
ShowSelection->True,
TaggingRules->{
 "WelcomeScreenSettings" -> {"FEStarting" -> False}, "TryRealOnly" -> False},
FrontEndVersion->"12.1 for Linux x86 (64-bit) (June 19, 2020)",
StyleDefinitions->FrontEnd`FileName[{"Creative"}, "NaturalColor.nb", 
  CharacterEncoding -> "UTF-8"],
ExpressionUUID->"e9fbdf28-66ce-4359-b2d9-587b79f04be9"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[422, 15, 268, 4, 61, "Title",ExpressionUUID->"8ff0d09f-00f0-43c0-a1d1-c2aaec281461"],
Cell[CellGroupData[{
Cell[715, 23, 371, 6, 74, "Section",ExpressionUUID->"1c41b9a9-7400-42a4-b2ac-9cebb1a7d2a9"],
Cell[1089, 31, 6866, 126, 247, "Input",ExpressionUUID->"a31afc9d-f6d1-4e3e-a952-28d3bc48d72f"]
}, Closed]],
Cell[CellGroupData[{
Cell[7992, 162, 159, 3, 44, "Section",ExpressionUUID->"0f6f3127-1aac-4633-bd66-94cd73509965"],
Cell[8154, 167, 6219, 188, 559, "Input",ExpressionUUID->"ecc62a60-379d-472e-ab04-cfac23a0d0a0"]
}, Closed]],
Cell[CellGroupData[{
Cell[14410, 360, 170, 3, 44, "Section",ExpressionUUID->"553a9113-a371-48fc-bc00-d2595122b733"],
Cell[CellGroupData[{
Cell[14605, 367, 151, 3, 35, "Subsection",ExpressionUUID->"d1434d19-8af1-4e2c-a878-97c7290b23e8"],
Cell[14759, 372, 880, 26, 84, "Input",ExpressionUUID->"99eec412-90a9-4795-ba53-ce4fd1537707"]
}, Closed]],
Cell[CellGroupData[{
Cell[15676, 403, 172, 3, 27, "Subsection",ExpressionUUID->"aa37e393-0909-43b7-a6f3-288b80b260b7"],
Cell[15851, 408, 2693, 60, 412, "Input",ExpressionUUID->"b8aba3db-371c-472a-9f7f-4ff01ca704e7"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[18593, 474, 191, 3, 44, "Section",ExpressionUUID->"c5076b8e-4771-415b-ae9c-5698a80d28f5"],
Cell[CellGroupData[{
Cell[18809, 481, 162, 3, 35, "Subsection",ExpressionUUID->"13cf0238-6bd6-4961-b5a9-4f6156906d24"],
Cell[18974, 486, 1289, 23, 124, "Input",ExpressionUUID->"7a83c6f5-cabd-4ab3-b66d-aa2d112aefa5"]
}, Closed]],
Cell[CellGroupData[{
Cell[20300, 514, 153, 3, 27, "Subsection",ExpressionUUID->"42e0f279-8c41-474b-a19d-b671962febe5"],
Cell[20456, 519, 1670, 40, 288, "Input",ExpressionUUID->"bc1af3bc-7087-4e98-b015-b9ba92b5c999"]
}, Closed]],
Cell[CellGroupData[{
Cell[22163, 564, 168, 3, 27, "Subsection",ExpressionUUID->"f89d3173-2b3d-408b-bec8-8641803da54d"],
Cell[22334, 569, 7093, 141, 1090, "Input",ExpressionUUID->"e3b8a2a7-3fc4-43a7-a060-f11fd546fe38"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[29476, 716, 154, 3, 44, "Section",ExpressionUUID->"1c5ffc1e-6978-46ab-8811-a70ae4ffe0a4"],
Cell[29633, 721, 2041, 50, 453, "Input",ExpressionUUID->"32e1038d-9013-4759-948a-18da960b23be"]
}, Closed]],
Cell[CellGroupData[{
Cell[31711, 776, 211, 4, 44, "Section",ExpressionUUID->"1971a534-376a-4e97-9998-a86e203b91cc"],
Cell[31925, 782, 3385, 81, 597, "Input",ExpressionUUID->"5611056a-14e3-4ecd-8366-c7e4f84f7f64"]
}, Closed]],
Cell[CellGroupData[{
Cell[35347, 868, 255, 4, 44, "Section",ExpressionUUID->"86329816-ea40-40fb-9378-0274b9195b2f"],
Cell[35605, 874, 4761, 112, 802, "Input",ExpressionUUID->"ce199056-16d0-4883-9a59-1a10e00b9365"]
}, Closed]],
Cell[CellGroupData[{
Cell[40403, 991, 313, 5, 44, "Section",ExpressionUUID->"09ac9d3a-91ad-4125-a27c-3a7330fd7ac5"],
Cell[40719, 998, 4717, 106, 761, "Input",ExpressionUUID->"a3aef63f-401d-4d25-bd95-0f92fa7027c5"]
}, Closed]],
Cell[CellGroupData[{
Cell[45473, 1109, 362, 6, 44, "Section",ExpressionUUID->"8d0d1af7-fcc4-4783-b65c-ab8f7ffa3ba2"],
Cell[45838, 1117, 4953, 113, 823, "Input",ExpressionUUID->"f9f02549-a8c6-4c72-8df4-62ffd924632d"]
}, Closed]],
Cell[CellGroupData[{
Cell[50828, 1235, 402, 6, 44, "Section",ExpressionUUID->"faaa3967-8064-48f1-a612-f6e18f0ab5fd"],
Cell[51233, 1243, 5365, 121, 843, "Input",ExpressionUUID->"6aaa50c1-4142-4010-b15b-b83f690f7630"]
}, Closed]],
Cell[CellGroupData[{
Cell[56635, 1369, 459, 7, 44, "Section",ExpressionUUID->"0d9d7614-7377-4a42-9694-ad0c2f2c8dca"],
Cell[57097, 1378, 5461, 122, 843, "Input",ExpressionUUID->"7cea7cda-d6bd-4f2d-8d1b-f3b150b89850"]
}, Closed]],
Cell[CellGroupData[{
Cell[62595, 1505, 552, 8, 44, "Section",ExpressionUUID->"3b8081d0-b79b-46ff-8515-8fa9082a1ccc"],
Cell[63150, 1515, 6446, 146, 843, "Input",ExpressionUUID->"49201f12-b80d-4e32-ab1c-215e1ed1d799"]
}, Closed]],
Cell[CellGroupData[{
Cell[69633, 1666, 256, 4, 44, "Section",ExpressionUUID->"2bc60a79-e700-4b58-8d0e-8bbfa5a58481"],
Cell[69892, 1672, 4811, 119, 802, "Input",ExpressionUUID->"e023fe7d-f334-4fe5-8d1e-e98268ec1837"]
}, Closed]],
Cell[CellGroupData[{
Cell[74740, 1796, 500, 8, 44, "Section",ExpressionUUID->"a028fb09-f0fe-44b9-993e-777659d83339"],
Cell[75243, 1806, 7567, 178, 966, "Input",ExpressionUUID->"0ab0b32a-e1d2-48f5-9334-6369003d64fe"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[82859, 1990, 169, 3, 35, "Title",ExpressionUUID->"11f83cd4-d82e-4d87-b5fd-c34399b0df27"],
Cell[CellGroupData[{
Cell[83053, 1997, 170, 3, 74, "Section",ExpressionUUID->"9dabb1ed-2e99-443f-932c-2a303feb5221"],
Cell[CellGroupData[{
Cell[83248, 2004, 151, 3, 35, "Subsection",ExpressionUUID->"865f6cbf-3ec2-4cd9-bded-dd49e6b42038"],
Cell[83402, 2009, 879, 26, 84, "Input",ExpressionUUID->"fa9c792d-b0a5-407a-a2f6-9aa80cc8dcaa"]
}, Closed]],
Cell[CellGroupData[{
Cell[84318, 2040, 172, 3, 27, "Subsection",ExpressionUUID->"1e9815af-ef17-44e9-b19d-9cc2eb486df4"],
Cell[84493, 2045, 2692, 60, 412, "Input",ExpressionUUID->"171c60cc-9d20-4709-b548-c6e55cc5312e"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[87234, 2111, 191, 3, 44, "Section",ExpressionUUID->"601e7f29-25d5-470a-be87-880107fb2ab1"],
Cell[CellGroupData[{
Cell[87450, 2118, 162, 3, 35, "Subsection",ExpressionUUID->"bd1150c7-3784-45a6-8438-3f6faabac889"],
Cell[87615, 2123, 1288, 23, 124, "Input",ExpressionUUID->"147a9c50-f48d-41d1-8e2e-87ab4360e989"]
}, Closed]],
Cell[CellGroupData[{
Cell[88940, 2151, 160, 3, 27, "Subsection",ExpressionUUID->"bb4cabbe-4c1f-4868-844c-2d689adb8077"],
Cell[89103, 2156, 847, 18, 186, "Input",ExpressionUUID->"86b0f729-b49e-483f-bef0-77fdcf4b4757"]
}, Closed]],
Cell[CellGroupData[{
Cell[89987, 2179, 175, 3, 27, "Subsection",ExpressionUUID->"e4a8b6af-ce24-4ebe-b7df-aafffb17d9d7"],
Cell[90165, 2184, 1569, 37, 268, "Input",ExpressionUUID->"d1cd63be-21fe-429b-ba58-b15c8aa67195"]
}, Closed]],
Cell[CellGroupData[{
Cell[91771, 2226, 173, 3, 27, "Subsection",ExpressionUUID->"3742924f-35e8-45c1-acde-7bb9c9dd75ee"],
Cell[91947, 2231, 825, 18, 165, "Input",ExpressionUUID->"79dd37b4-d01d-472c-aaee-a1390b870869"]
}, Closed]],
Cell[CellGroupData[{
Cell[92809, 2254, 233, 4, 27, "Subsection",ExpressionUUID->"1874014e-d625-46c8-8692-f4b02cdcabf0"],
Cell[93045, 2260, 2245, 49, 391, "Input",ExpressionUUID->"feee99de-2ef4-48c8-93c0-9bff5ee40e8d"]
}, Closed]],
Cell[CellGroupData[{
Cell[95327, 2314, 187, 3, 27, "Subsection",ExpressionUUID->"c5038e68-35e0-498d-9618-d339d1548100"],
Cell[95517, 2319, 2337, 43, 473, "Input",ExpressionUUID->"03ac1245-a01e-4084-811d-f7fe089ca560"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[97903, 2368, 155, 3, 44, "Section",ExpressionUUID->"eedbedb9-c140-497a-b81c-47324a01d5ac"],
Cell[CellGroupData[{
Cell[98083, 2375, 218, 4, 35, "Subsection",ExpressionUUID->"bea3b258-a19e-49c3-87a9-6a08518ef513"],
Cell[98304, 2381, 4620, 119, 317, "Input",ExpressionUUID->"435096a1-0604-4b9a-ac01-fa0009db88df"]
}, Closed]],
Cell[CellGroupData[{
Cell[102961, 2505, 163, 3, 27, "Subsection",ExpressionUUID->"36752436-f1d2-4593-8efd-8291ec0937ba"],
Cell[103127, 2510, 4430, 120, 206, "Input",ExpressionUUID->"e10e0cab-ff4d-4d74-b62a-a7dc31276209"]
}, Closed]],
Cell[CellGroupData[{
Cell[107594, 2635, 175, 3, 27, "Subsection",ExpressionUUID->"0f506c05-a7f6-4ffc-bd70-27da0789fab7"],
Cell[107772, 2640, 7302, 173, 186, "Input",ExpressionUUID->"5b7667f1-d45c-47c6-89f5-cb4cb6b3d952"]
}, Closed]],
Cell[CellGroupData[{
Cell[115111, 2818, 165, 3, 27, "Subsection",ExpressionUUID->"bd24b7a1-42e4-408d-9b78-71c1ef99e57b"],
Cell[115279, 2823, 8430, 170, 657, "Input",ExpressionUUID->"a190b50e-70d5-4a04-9c44-d1fb00f0166e"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[123758, 2999, 221, 4, 44, "Section",ExpressionUUID->"8876be30-6fdf-4ad0-b0b0-3b2f6e529aa8"],
Cell[CellGroupData[{
Cell[124004, 3007, 167, 3, 35, "Subsection",ExpressionUUID->"3cb637c0-587e-4093-bd7e-bf82d750d5bc"],
Cell[124174, 3012, 6970, 153, 1110, "Input",ExpressionUUID->"44ac459e-3b5a-467f-a9bf-5c0b747a413e"]
}, Closed]],
Cell[CellGroupData[{
Cell[131181, 3170, 164, 3, 27, "Subsection",ExpressionUUID->"90e650f6-31f3-4509-8fa7-b5de9c6802c5"],
Cell[CellGroupData[{
Cell[131370, 3177, 157, 3, 25, "Subsubsection",ExpressionUUID->"d56604b1-f0d6-4310-a769-8c4fbe9a2305"],
Cell[CellGroupData[{
Cell[131552, 3184, 1567, 36, 252, "Input",ExpressionUUID->"040b0ede-cf47-4538-99f3-3de73d67efad"],
Cell[CellGroupData[{
Cell[133144, 3224, 426, 10, 23, "Print",ExpressionUUID->"25cbfbe6-9ad9-46bb-8078-ef657a9f02e7"],
Cell[133573, 3236, 426, 10, 23, "Print",ExpressionUUID->"74c76f70-4e3f-4a10-96c3-9b09e3fa4ac4"],
Cell[134002, 3248, 426, 10, 23, "Print",ExpressionUUID->"fbf77139-10fa-449f-97cb-5fd337f4b627"],
Cell[134431, 3260, 428, 10, 23, "Print",ExpressionUUID->"3f307d87-3f8c-4465-b218-7e97eaa59b4e"],
Cell[134862, 3272, 426, 10, 23, "Print",ExpressionUUID->"e0eec3c1-47cc-499c-a248-54ceac5e03ed"],
Cell[135291, 3284, 426, 10, 23, "Print",ExpressionUUID->"0329de94-262d-4ae9-8c2e-13fb31bd85d7"],
Cell[135720, 3296, 426, 10, 23, "Print",ExpressionUUID->"f5ec5a81-69d7-4c84-9c81-59b613dc0e6b"],
Cell[136149, 3308, 426, 10, 23, "Print",ExpressionUUID->"52d48546-d4b1-4a79-bb7d-737e45e08b4d"],
Cell[136578, 3320, 426, 10, 23, "Print",ExpressionUUID->"bfbdd83a-b0dc-4cea-a049-38d12a4ff5a1"],
Cell[137007, 3332, 426, 10, 23, "Print",ExpressionUUID->"ce1ca0a2-d80e-4ddd-8b4e-1e61539703e7"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[137494, 3349, 168, 3, 25, "Subsubsection",ExpressionUUID->"6f73d63c-6237-4356-a3ca-077d94cda7e7"],
Cell[CellGroupData[{
Cell[137687, 3356, 2732, 61, 437, "Input",ExpressionUUID->"380aa94f-bfae-4a19-9e42-a301c8acd007"],
Cell[CellGroupData[{
Cell[140444, 3421, 446, 10, 23, "Print",ExpressionUUID->"32b9b684-ce8f-4fa3-9fa8-0a37d36c9208"],
Cell[140893, 3433, 446, 10, 23, "Print",ExpressionUUID->"732b5fee-9bc6-42c0-90e3-ba6142961811"],
Cell[141342, 3445, 446, 10, 23, "Print",ExpressionUUID->"a6b5659f-fd56-4534-b0a4-d61459c1c064"],
Cell[141791, 3457, 448, 10, 23, "Print",ExpressionUUID->"995a8dbd-677b-41a1-8838-a16d6548b506"],
Cell[142242, 3469, 446, 10, 23, "Print",ExpressionUUID->"d0e4d92c-9098-45a9-b47c-b41d241c8859"],
Cell[142691, 3481, 446, 10, 23, "Print",ExpressionUUID->"8dff598d-5701-49b3-bc2f-dbf05f7307f4"],
Cell[143140, 3493, 446, 10, 23, "Print",ExpressionUUID->"627597da-e28c-4745-885e-4635d7ae2355"],
Cell[143589, 3505, 445, 10, 23, "Print",ExpressionUUID->"58176bd0-1dda-4c9d-acb7-2bb08c170c64"],
Cell[144037, 3517, 446, 10, 23, "Print",ExpressionUUID->"bd31f457-3647-4c45-9650-68a6ef1665e1"],
Cell[144486, 3529, 446, 10, 23, "Print",ExpressionUUID->"d392320f-f5ce-49bc-aa5e-501c8d7947e6"],
Cell[144935, 3541, 446, 10, 23, "Print",ExpressionUUID->"360b5d42-271f-450e-ba2c-47b255012256"],
Cell[145384, 3553, 446, 10, 23, "Print",ExpressionUUID->"4f549ea4-1b6c-42d9-bc34-ee7e8e323d07"],
Cell[145833, 3565, 448, 10, 23, "Print",ExpressionUUID->"95e90a3b-015b-4be7-9319-1a518eb6eec7"],
Cell[146284, 3577, 448, 10, 23, "Print",ExpressionUUID->"1a8c53a8-62f4-44e6-8eff-b39e587f6325"],
Cell[146735, 3589, 446, 10, 23, "Print",ExpressionUUID->"a611ddda-87dd-4c13-910b-f77663b74469"],
Cell[147184, 3601, 445, 10, 23, "Print",ExpressionUUID->"a6077152-82a3-48af-9937-37e86282b8c5"],
Cell[147632, 3613, 446, 10, 23, "Print",ExpressionUUID->"2edfb524-0419-43a0-a7b2-df695f462a73"],
Cell[148081, 3625, 448, 10, 23, "Print",ExpressionUUID->"fa993baa-e315-4d32-85d4-ade70994b28f"],
Cell[148532, 3637, 446, 10, 23, "Print",ExpressionUUID->"5fea065f-505c-4c33-8ddf-eac5bf43bada"],
Cell[148981, 3649, 446, 10, 23, "Print",ExpressionUUID->"33160c2c-9592-4919-9f90-ae1f003ba7d0"],
Cell[149430, 3661, 448, 10, 23, "Print",ExpressionUUID->"9f5d8e60-fb0e-46d1-9e67-e9abe17c0ef0"],
Cell[149881, 3673, 446, 10, 23, "Print",ExpressionUUID->"560c6a51-9d28-4ff1-9c30-c5cc0b0f84b3"],
Cell[150330, 3685, 448, 10, 23, "Print",ExpressionUUID->"60f6b9e0-881a-4769-bae7-b9468281af4b"],
Cell[150781, 3697, 446, 10, 23, "Print",ExpressionUUID->"7a982807-2284-4e92-8852-cb5a4a4b3070"],
Cell[151230, 3709, 446, 10, 23, "Print",ExpressionUUID->"47d04e75-d4da-4fa8-bd7e-e4d38d911895"],
Cell[151679, 3721, 446, 10, 23, "Print",ExpressionUUID->"70e7ac18-94e0-48ff-9ffa-743b802e6936"],
Cell[152128, 3733, 448, 10, 23, "Print",ExpressionUUID->"6589ee85-cc89-46fb-ad30-5d94bac6462e"],
Cell[152579, 3745, 446, 10, 23, "Print",ExpressionUUID->"797bf0f6-fb94-449c-b100-7c54ebe05e7a"],
Cell[153028, 3757, 446, 10, 23, "Print",ExpressionUUID->"32e6ed2b-dba9-48d4-8217-7d3f5173ae91"],
Cell[153477, 3769, 446, 10, 23, "Print",ExpressionUUID->"11e99e10-bc04-4034-9205-23150aa2a7a1"],
Cell[153926, 3781, 446, 10, 23, "Print",ExpressionUUID->"55b550a7-5383-4db6-b47d-b22253256078"],
Cell[154375, 3793, 448, 10, 23, "Print",ExpressionUUID->"c4c559d3-0c4d-416d-ad0e-196bfe079aa9"],
Cell[154826, 3805, 446, 10, 23, "Print",ExpressionUUID->"6cf91037-093c-4af3-8726-769b69c46e62"],
Cell[155275, 3817, 448, 10, 23, "Print",ExpressionUUID->"f598cc4c-fd13-4b55-a595-7b7efc20a5b8"],
Cell[155726, 3829, 446, 10, 23, "Print",ExpressionUUID->"a4cd6d66-acad-44f6-892b-2fffc79373ca"],
Cell[156175, 3841, 448, 10, 23, "Print",ExpressionUUID->"d053becf-5d1c-47b9-bed4-b1f4d904b242"],
Cell[156626, 3853, 446, 10, 23, "Print",ExpressionUUID->"9c1acd89-62d1-4a1e-860d-89272f3e3a84"],
Cell[157075, 3865, 446, 10, 23, "Print",ExpressionUUID->"bee1cdba-1f2e-434b-8d4f-ee227defda60"],
Cell[157524, 3877, 448, 10, 23, "Print",ExpressionUUID->"33e8282b-e913-4239-9918-48fc1bb71951"],
Cell[157975, 3889, 446, 10, 23, "Print",ExpressionUUID->"1312e826-e76a-4b3c-bb68-20359ea14c49"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[158518, 3909, 171, 3, 61, "Title",ExpressionUUID->"2613027a-7433-408c-bdb2-bf5ea426ba00"],
Cell[CellGroupData[{
Cell[158714, 3916, 170, 3, 74, "Section",ExpressionUUID->"f668ea9c-6afc-4ea8-b7a0-bbcbd6b16a5f"],
Cell[CellGroupData[{
Cell[158909, 3923, 151, 3, 35, "Subsection",ExpressionUUID->"83a0fd7b-dfc0-4091-8b40-d06edf483805"],
Cell[159063, 3928, 879, 26, 84, "Input",ExpressionUUID->"488ff88f-f920-4a54-8584-de8ab1944521"]
}, Closed]],
Cell[CellGroupData[{
Cell[159979, 3959, 172, 3, 27, "Subsection",ExpressionUUID->"94f2fb46-fe63-423f-a030-5841bc215876"],
Cell[160154, 3964, 2692, 60, 412, "Input",ExpressionUUID->"48006186-ddc4-421b-9eca-302e5908311e"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[162895, 4030, 191, 3, 44, "Section",ExpressionUUID->"ebbe7d79-c843-4c5c-969c-d4c9b5f4e622"],
Cell[CellGroupData[{
Cell[163111, 4037, 162, 3, 35, "Subsection",ExpressionUUID->"e17d89aa-44fa-472f-b154-9e1b16f8cec0"],
Cell[163276, 4042, 1288, 23, 124, "Input",ExpressionUUID->"701cff3b-b4c1-47a3-999f-c829079a9d51"]
}, Closed]],
Cell[CellGroupData[{
Cell[164601, 4070, 160, 3, 27, "Subsection",ExpressionUUID->"4758aa4e-6ced-4357-a571-83427046fdc0"],
Cell[164764, 4075, 693, 15, 124, "Input",ExpressionUUID->"41f7d5da-6dec-45b5-8b62-12b371cfd3ca"]
}, Closed]],
Cell[CellGroupData[{
Cell[165494, 4095, 175, 3, 27, "Subsection",ExpressionUUID->"d0d4954d-ac56-4f6a-9ab9-3ff4ffdbf4e1"],
Cell[165672, 4100, 1174, 26, 186, "Input",ExpressionUUID->"148f2b49-15b0-4f84-8948-7a346de5f488"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[166895, 4132, 215, 4, 44, "Section",ExpressionUUID->"c4e27016-b044-4cd1-8fe5-997e9d271404"],
Cell[167113, 4138, 4620, 119, 317, "Input",ExpressionUUID->"38ace2f9-1089-423a-8623-e2ca8ddadbf3"]
}, Closed]],
Cell[CellGroupData[{
Cell[171770, 4262, 166, 3, 44, "Section",ExpressionUUID->"100a3ab6-5c02-481c-8d87-4c76e42940f5"],
Cell[171939, 4267, 6966, 171, 535, "Input",ExpressionUUID->"4ba86ddc-0e5f-44ae-98ec-40b6da900085"]
}, Closed]],
Cell[CellGroupData[{
Cell[178942, 4443, 277, 4, 44, "Section",ExpressionUUID->"a94e94eb-0ea3-400a-8b3e-32ebab0fbf6a"],
Cell[CellGroupData[{
Cell[179244, 4451, 167, 3, 35, "Subsection",ExpressionUUID->"3de864e7-e5ff-45d1-88cf-5956f307e41d"],
Cell[179414, 4456, 3307, 67, 473, "Input",ExpressionUUID->"c50f8038-9720-426e-9a0b-bb7fd791994f"]
}, Closed]],
Cell[CellGroupData[{
Cell[182758, 4528, 164, 3, 27, "Subsection",ExpressionUUID->"391b9541-a0ac-4e2d-aea5-ff9baea81be9"],
Cell[182925, 4533, 793, 19, 104, "Input",ExpressionUUID->"7c2f0bad-e804-47e6-b71d-cccaa4e70058"],
Cell[183721, 4554, 3448, 104, 412, "Input",ExpressionUUID->"43f961b1-34a1-4f48-962f-70e72816b134"]
}, Closed]]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[187230, 4665, 212, 4, 35, "Title",ExpressionUUID->"05b4336b-849d-4472-ad96-bf9f8b1405ea"],
Cell[CellGroupData[{
Cell[187467, 4673, 170, 3, 74, "Section",ExpressionUUID->"288ea30b-31db-4167-afe9-3f84a5b1280f"],
Cell[CellGroupData[{
Cell[187662, 4680, 151, 3, 35, "Subsection",ExpressionUUID->"6fdb90ef-7289-4087-9288-b0a06593738d"],
Cell[187816, 4685, 879, 26, 84, "Input",ExpressionUUID->"b204f3c9-7645-4f47-acba-18ac09552ed7"]
}, Closed]],
Cell[CellGroupData[{
Cell[188732, 4716, 172, 3, 27, "Subsection",ExpressionUUID->"81bb910d-6f1e-493a-9d56-3bca41a34064"],
Cell[188907, 4721, 2692, 60, 412, "Input",ExpressionUUID->"0d806c30-0549-4dd9-b9ed-fed2dab016c1"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[191648, 4787, 191, 3, 44, "Section",ExpressionUUID->"33358932-03b5-4a3f-b776-6e81a978a301"],
Cell[CellGroupData[{
Cell[191864, 4794, 162, 3, 35, "Subsection",ExpressionUUID->"ed29b3ba-66b2-4edd-b146-6a20c4b2b9cd"],
Cell[192029, 4799, 1522, 28, 165, "Input",ExpressionUUID->"ed701c46-7d89-4cfb-ab0d-73ca4bd5b7be"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[193600, 4833, 252, 4, 44, "Section",ExpressionUUID->"6d505258-fcd1-46c2-8e81-9907bd72073d"],
Cell[193855, 4839, 2806, 59, 166, "Input",ExpressionUUID->"24bfb616-b6f9-45e2-a134-fa8bf0369bf8"]
}, Closed]],
Cell[CellGroupData[{
Cell[196698, 4903, 277, 4, 44, "Section",ExpressionUUID->"6f16d359-969c-41f9-a795-5dd3c0c2a36c"],
Cell[CellGroupData[{
Cell[197000, 4911, 167, 3, 35, "Subsection",ExpressionUUID->"1a638307-d4b5-403c-8ca0-e7147fa89e64"],
Cell[197170, 4916, 3090, 61, 473, "Input",ExpressionUUID->"0244c3a6-0759-4697-8848-50398ef8d1aa"]
}, Closed]],
Cell[CellGroupData[{
Cell[200297, 4982, 164, 3, 27, "Subsection",ExpressionUUID->"ea4f81cf-fd4d-4208-9015-cc3120bf542b"],
Cell[200464, 4987, 709, 17, 62, "Input",ExpressionUUID->"09a6876b-24ea-46af-b33c-af577e1c7856"],
Cell[201176, 5006, 642, 18, 62, "Input",ExpressionUUID->"885247e7-84a2-4d12-80f0-b0dec57eb4f7"],
Cell[201821, 5026, 756, 22, 62, "Input",ExpressionUUID->"5e220a8a-9254-4d70-98d7-3006387616de"]
}, Closed]]
}, Closed]]
}, Closed]]
}
]
*)

